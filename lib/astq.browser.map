{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/astq-adapter-asty.js","src/astq-adapter-xmldom.js","src/astq-adapter.js","src/astq-adapter-mozast.js","src/astq-funcs-std.js","src/astq-funcs.js","src/astq-query-exec.js","src/astq-query-trace.js","src/astq-query.js","src/astq-util.js","src/astq-version.js","src/astq.js","node_modules/asty/lib/asty.node.js","node_modules/cache-lru/lib/cache-lru.js","node_modules/pegjs-util/PEGUtil.js"],"names":["ASTQAdapterASTY","node","_typeof","ASTy","parent","childs","type","attrs","attr","get","ASTQAdapterXMLDOM","Node","nodeType","nodeName","parentNode","childNodes","Array","prototype","slice","call","attributes","map","n","getAttribute","ASTQAdapter","_classCallCheck","this","_adapters","adapter","unshift","undefined","adapters","i","length","push","taste","ASTQAdapterMozAST","Error","_this","checkField","field","hasOwnProperty","forEach","names","_pos","A","T","getParentNode","pchilds","getChildNodes","parents","stdfuncs","getNodeType","depth","pos","nth","num","parseInt","first","last","count","val","Object","keys","String","below","other","follows","pathOfT","concat","reverse","pathOfOther","len","Math","min","in","substr","str","index","sub","from","indexOf","trim","lc","toLowerCase","uc","toUpperCase","ASTQFuncs","_funcs","name","func","args","apply","_astqUtil","require","_astqQueryTrace","ASTQQueryExec","params","funcs","trace","_possibleConstructorReturn","getPrototypeOf","Q","_this2","traceBegin","output","execPath","traceEnd","_this3","nodes","result","resultExplicit","execStep","_this4","axis","match","filter","id","matchAndTake","take","execFilter","op","t","walk","leftSibling","_i","_parent","_pchilds","_i2","_parent2","_pchilds2","_i3","_parent3","_pchilds3","_i4","_parent4","_parent5","ctx","sentinel","_parent6","_parent7","expr","execExpr","_astqUtil2","truthy","execExprConditionalBinary","execExprConditionalTernary","execExprLogical","execExprBitwise","execExprRelational","execExprArithmetical","execExprUnary","execExprFuncCall","execExprAttribute","execExprParam","execExprLiteralString","execExprLiteralRegExp","execExprLiteralNumber","execExprLiteralValue","execExprPath","v1","coerce","v2","pow","v","_this5","run","getNodeAttrValue","ASTQQueryTrace","prefix1","pad","prefix2","_prefixOf","prefixOf","console","log","_prefixOf2","replace","_astqQueryExec","ASTY","PEGUtil","ASTQQueryParse","ctor","constructor","child","captureStackTrace","peg$SyntaxError","peg$parse","input","options","arguments","peg$FAILED","peg$c1","peg$c2","value","description","peg$c5","peg$c6","peg$c7","a","m","r","f","ast","add","set","isResult","peg$subclass","ASTQUtil","join","isNaN","Boolean","Number","RegExp","e","version","major","minor","micro","date","_astqAdapter","_astqAdapterAsty","_astqAdapterMozast","_astqAdapterXmldom","_astqFuncs","_astqFuncsStd","_astqQuery","_astqVersion","CacheLRU","ASTQ","_adapter","_astqAdapter2","register","_astqAdapterMozast2","_astqAdapterXmldom2","_astqAdapterAsty2","_astqFuncs2","_astqFuncsStd2","_cache","_astqVersion2","unregister","_func","entries","limit","selector","query","_astqQuery2","compile","select","execute","module","exports","define","amd","g","window","global","self","s","o","u","code","l",1,"_dereq_","instance","Constructor","TypeError","defineProperty","Symbol","iterator","obj","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","ASTYBase","C","L","O","P","line","column","offset","_len","_key","_len2","_key2","idx","_len3","_key3","_ins","isA","splice","arg","_len4","_key4","_add","_len5","_key5","found","j","serialize",2,"ASTYDump","maxDepth","Infinity","out","toString","hex","ch","charCodeAt","source","JSON","stringify",3,"ASTYMerge","takePos","attrMap","attrSource","attrTarget",4,"ASTYSerialize","asty","serializeNode","clone","parse","json","unserializeNode","create",5,6,"ASTYWalk","cb","when","_walk",7,"_interopRequireDefault","__esModule","default","_astyBase","_astyBase2","_astyMerge","_astyMerge2","_astyWalk","_astyWalk2","_astyDump","_astyDump2","_astySerialize","_astySerialize2","_astyVersion","_astyVersion2","ASTYCtx","ASTYNode","mixins","mixin","proto","method","init","unserialize","./asty-base.js","./asty-dump.js","./asty-merge.js","./asty-serialize.js","./asty-version.js","./asty-walk.js","_index","_LRU","newer","_MRU","older","_cur","_max","_dispose","_purge","each","expires","Date","now","del","_promote","_attach","_detach","root","factory","makeAST","location","util","__makeAST","start","makeUnroll","list","__SyntaxError","excerpt","txt","b","extract","prolog","token","epilog","parser","error","opts","SyntaxError","startRule","definedOrElse","fallback","message","expected","errorMessage","noFinalNewline","msg"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQAdapterASTY {\n    static taste (node) {\n        return (\n               typeof node      === \"object\"\n            && typeof node.ASTy === \"boolean\"\n        )\n    }\n    static getParentNode (node /*, type */) {\n        return node.parent()\n    }\n    static getChildNodes (node /*, type */) {\n        return node.childs()\n    }\n    static getNodeType (node) {\n        return node.type()\n    }\n    static getNodeAttrNames (node) {\n        return node.attrs()\n    }\n    static getNodeAttrValue (node, attr) {\n        return node.get(attr)\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQAdapterXMLDOM {\n    static taste (node) {\n        /* global Node: true */\n        return (\n               typeof Node === \"object\"\n            && node instanceof Node\n            && typeof node === \"object\"\n            && typeof node.nodeType === \"number\"\n            && typeof node.nodeName === \"string\"\n        )\n    }\n    static getParentNode (node /*, type */) {\n        return node.parentNode\n    }\n    static getChildNodes (node /*, type */) {\n        return node.childNodes\n    }\n    static getNodeType (node) {\n        return node.nodeName\n    }\n    static getNodeAttrNames (node) {\n        return Array.prototype.slice.call(node.attributes, 0)\n            .map((n) => n.nodeName)\n    }\n    static getNodeAttrValue (node, attr) {\n        return node.getAttribute(attr)\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQAdapter {\n    constructor () {\n        this._adapters = []\n        return this\n    }\n    register (adapter) {\n        this._adapters.unshift(adapter)\n        return this\n    }\n    unregister (adapter) {\n        if (adapter === undefined)\n            this._adapters = []\n        else {\n            let adapters = []\n            for (let i = 0; i < this._adapters.length; i++)\n                if (this._adapters[i] !== adapter)\n                    adapters.push(this._adapters[i])\n            this._adapters = adapters\n        }\n        return this\n    }\n    select (node) {\n        for (let i = 0; i < this._adapters.length; i++)\n            if (this._adapters[i].taste(node))\n                return this._adapters[i]\n        return undefined\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  See also: https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Parser_API  */\n\nexport default class ASTQAdapterMozAST {\n    static taste (node) {\n        return (\n               typeof node === \"object\"\n            && node !== null\n            && typeof node.type === \"string\"\n            && node.type !== \"\"\n        )\n    }\n    static getParentNode (node, type) {\n        if (type !== \"*\" && type !== \"parent\")\n            throw new Error(\"no such axis named \\\"\" + type + \"\\\" for walking to parent nodes\")\n        if (typeof node.parent !== \"undefined\")\n            return node.parent\n        else\n            throw new Error(\"Your Mozilla SpiderMonkey AST does not support parent node traversal\")\n    }\n    static getChildNodes (node, type) {\n        let childs = []\n        let checkField = (node, field) => {\n            if (   node.hasOwnProperty(field)\n                && this.taste(node[field]))\n                childs.push(node[field])\n            else if (   node.hasOwnProperty(field)\n                     && typeof node[field] === \"object\"\n                     && node[field] instanceof Array) {\n                node[field].forEach((node) => {\n                    if (this.taste(node))\n                       childs.push(node)\n                })\n            }\n        }\n        if (type === \"*\") {\n            for (let field in node)\n                checkField(node, field)\n        }\n        else {\n            if (typeof node[type] === \"undefined\")\n                throw new Error(\"no such axis named \\\"\" + type + \"\\\" for walking to child nodes\")\n            checkField(node, type)\n        }\n        return childs\n    }\n    static getNodeType (node) {\n        return node.type\n    }\n    static getNodeAttrNames (node) {\n        let names = []\n        for (let field in node)\n            if (   node.hasOwnProperty(field)\n                && typeof node[field] !== \"object\"\n                && field !== \"type\"\n                && field !== \"loc\")\n                names.push(field)\n        return names\n    }\n    static getNodeAttrValue (node, attr) {\n        if (   node.hasOwnProperty(attr)\n            && typeof node[attr] !== \"object\"\n            && attr !== \"type\"\n            && attr !== \"loc\")\n            return node[attr]\n        else\n            return undefined\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  internal helper function: find position between siblings  */\nconst pos = (A, T) => {\n    let parent = A.getParentNode(T, \"*\")\n    if (parent === null)\n        return 1\n    let pchilds = A.getChildNodes(parent, \"*\")\n    for (let i = 0; i < pchilds.length; i++)\n        if (pchilds[i] === T)\n            return (i + 1)\n    throw new Error(\"cannot find myself\")\n}\n\n/*  internal helper function: find parent nodes  */\nconst parents = (A, T) => {\n    let parents = []\n    while ((T = A.getParentNode(T, \"*\")) !== null)\n        parents.push(T)\n    return parents\n}\n\n/*  the exported standard functions  */\nconst stdfuncs = {\n    /*  type name of node  */\n    \"type\": (A, T) => {\n        return A.getNodeType(T)\n    },\n\n    /*  depth of node in tree  */\n    \"depth\": (A, T) => {\n        let depth = 1\n        let node = T\n        while ((node = A.getParentNode(node, \"*\")) !== null)\n            depth++\n        return depth\n    },\n\n    /*  return position of node between siblings  */\n    \"pos\": (A, T) => {\n        return pos(A, T)\n    },\n\n    /*  check position of node between siblings  */\n    \"nth\": (A, T, num) => {\n        num = parseInt(num, 10)\n        let parent = A.getParentNode(T, \"*\")\n        if (parent !== null) {\n            let pchilds = A.getChildNodes(parent, \"*\")\n            if (num < 0)\n                num = pchilds.length - (num + 1)\n            for (let i = 0; i < pchilds.length; i++)\n                if (pchilds[i] === T)\n                    return ((i + 1) === num)\n            return false\n        }\n        else if (num === 1)\n            return true\n        else\n            return false\n    },\n\n    /*  check position of node to be first of siblings  */\n    \"first\": (A, T) => {\n        return stdfuncs.nth(A, T, 1)\n    },\n\n    /*  check position of node to be last of siblings  */\n    \"last\": (A, T) => {\n        return stdfuncs.nth(A, T, -1)\n    },\n\n    /*  count number of keys/elements/characters/etc  */\n    \"count\": (A, T, val) => {\n        if (typeof val === \"object\" && val instanceof Array)\n            return val.length\n        else if (typeof val === \"object\")\n            return Object.keys(val).length\n        else if (typeof val === \"string\")\n            return val.length\n        else\n            return String(val).length\n    },\n\n    /*  check whether node is below another  */\n    \"below\": (A, T, other) => {\n        if (!A.taste(other))\n            throw new Error(\"invalid argument to function \\\"below\\\" (node expected)\")\n        let node = T\n        while ((node = A.getParentNode(node, \"*\")) !== null)\n            if (node === other)\n                return true\n        return false\n    },\n\n    /*  check whether node follows another  */\n    \"follows\": (A, T, other) => {\n        if (!A.taste(other))\n            throw new Error(\"invalid argument to function \\\"follows\\\" (node expected)\")\n        if (T === other)\n            return false\n        let pathOfT     = [ T     ].concat(parents(A, T    )).reverse()\n        let pathOfOther = [ other ].concat(parents(A, other)).reverse()\n        let len = Math.min(pathOfT.length, pathOfOther.length)\n        let i\n        for (i = 0; i < len; i++)\n            if (pathOfT[i] !== pathOfOther[i])\n                break\n        if (i === 0)\n            throw new Error(\"internal error: root nodes have to be same same\")\n        else if (i === len) {\n            if (pathOfOther.length < pathOfT.length)\n                return true\n            else\n                return false\n        }\n        else\n            return pos(A, pathOfT[i]) > pos(A, pathOfOther[i])\n    },\n\n    /*  check whether node is in a list of nodes  */\n    \"in\": (A, T, val) => {\n        if (!(typeof val === \"object\" && val instanceof Array))\n            throw new Error(\"invalid argument to function \\\"in\\\" (array expected)\")\n        for (let i = 0; i < val.length; i++)\n            if (val[i] === T)\n                return true\n        return false\n    },\n\n    /*  retrieve a sub-string  */\n    \"substr\": (A, T, str, pos, len) => {\n        return String(str).substr(pos, len)\n    },\n\n    /*  retrieve index of a sub-string  */\n    \"index\": (A, T, str, sub, from) => {\n        return String(str).indexOf(sub, from)\n    },\n\n    /*  remove whitespaces at begin and end of string  */\n    \"trim\": (A, T, str) => {\n        return String(str).trim()\n    },\n\n    /*  convert string to lower-case  */\n    \"lc\": (A, T, str) => {\n        return String(str).toLowerCase()\n    },\n\n    /*  convert string to upper-case  */\n    \"uc\": (A, T, str) => {\n        return String(str).toUpperCase()\n    }\n}\n\nexport default stdfuncs\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQFuncs {\n    constructor () {\n        this._funcs = {}\n        return this\n    }\n    register (name, func) {\n        this._funcs[name] = func\n    }\n    run (name, args) {\n        let func = this._funcs[name]\n        if (typeof func !== \"function\")\n            throw new Error(\"invalid function \\\"\" + name + \"\\\"\")\n        return func.apply(null, args)\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport util           from \"./astq-util.js\"\nimport ASTQQueryTrace from \"./astq-query-trace.js\"\n\nexport default class ASTQQueryExec extends ASTQQueryTrace {\n    constructor (adapter, params, funcs, trace) {\n        super()\n        this.adapter = adapter\n        this.params  = params\n        this.funcs   = funcs\n        this.trace   = trace\n    }\n\n    execQuery (Q, T) {\n        this.traceBegin(Q, T)\n        let output = []\n\n        /*  iterate over all query paths  */\n        Q.childs().forEach((Q) => {\n            output = output.concat(this.execPath(Q, T))\n        })\n\n        this.traceEnd(Q, T, output)\n        return output\n    }\n\n    execPath (Q, T) {\n        this.traceBegin(Q, T)\n        let nodes = [ T ]\n        let result = []\n        let resultExplicit = false\n\n        /*  iterate over all steps of a query path  */\n        Q.childs().forEach((Q) => {\n            let output = []\n            nodes.forEach((T) => {\n                output = output.concat(this.execStep(Q, T))\n            })\n            nodes = output\n            if (Q.get(\"isResult\")) {\n                resultExplicit = true\n                result = result.concat(nodes)\n            }\n        })\n\n        this.traceEnd(Q, T, nodes)\n        return (resultExplicit ? result : nodes)\n    }\n\n    execStep (Q, T) {\n        this.traceBegin(Q, T)\n\n        /*  determine (optional) axis, (mandatory) match and (optional) filter  */\n        let childs = Q.childs()\n        let axis   = null\n        let match  = null\n        let filter = null\n        let i = 0\n        if (i < childs.length && childs[i].type() === \"Axis\")\n            axis = childs[i++]\n        if (i < childs.length && childs[i].type() === \"Match\")\n            match = childs[i++]\n        if (i < childs.length && childs[i].type() === \"Filter\")\n            filter = childs[i++]\n        if (match === null)\n            throw new Error(\"no matching part in query step\")\n\n        let nodes = []\n\n        /*  helper function for matching and taking node  */\n        let id = match.get(\"id\")\n        let matchAndTake = (T) => {\n            let type = this.adapter.getNodeType(T)\n            if (id === \"*\" || id === type) {\n                let take = true\n                if (filter !== null)\n                    if (!this.execFilter(filter, T))\n                        take = false\n                if (take)\n                    nodes.push(T)\n            }\n        }\n\n        /*  determine nodes along axis which potentially might match  */\n        if (axis !== null) {\n            let op = axis.get(\"op\")\n            let t = axis.get(\"type\")\n            if (op === \"/\") {\n                /*  direct child nodes  */\n                this.adapter.getChildNodes(T, t).forEach((T) => matchAndTake(T))\n            }\n            else if (op === \"//\") {\n                /*  transitive child nodes  */\n                let walk = (T) => {\n                    matchAndTake(T)\n                    this.adapter.getChildNodes(T, t).forEach((T) => walk(T)) /* RECURSION */\n                }\n                this.adapter.getChildNodes(T, t).forEach((T) => walk(T))\n            }\n            else if (op === \"-/\") {\n                /*  direct left sibling  */\n                let parent = this.adapter.getParentNode(T, \"*\")\n                if (parent !== null) {\n                    let pchilds = this.adapter.getChildNodes(parent, t)\n                    let leftSibling = null\n                    for (let i = 0; i < pchilds.length; i++) {\n                        if (pchilds[i] === T)\n                            break\n                        leftSibling = pchilds[i]\n                    }\n                    if (leftSibling !== null)\n                        matchAndTake(leftSibling)\n                }\n            }\n            else if (op === \"-//\") {\n                /*  transitive left siblings  */\n                let parent = this.adapter.getParentNode(T, \"*\")\n                if (parent !== null) {\n                    let pchilds = this.adapter.getChildNodes(parent, t)\n                    let i = 0\n                    for (; i < pchilds.length; i++)\n                        if (pchilds[i] === T)\n                            break\n                    for (i--; i >= 0; i--)\n                        matchAndTake(pchilds[i])\n                }\n            }\n            else if (op === \"+/\") {\n                /*  direct right sibling  */\n                let parent = this.adapter.getParentNode(T, \"*\")\n                if (parent !== null) {\n                    let pchilds = this.adapter.getChildNodes(parent, t)\n                    let i\n                    for (i = 0; i < pchilds.length; i++)\n                        if (pchilds[i] === T)\n                            break\n                    if (i < pchilds.length)\n                        matchAndTake(pchilds[++i])\n                }\n            }\n            else if (op === \"+//\") {\n                /*  transitive right siblings  */\n                let parent = this.adapter.getParentNode(T, \"*\")\n                if (parent !== null) {\n                    let pchilds = this.adapter.getChildNodes(parent, t)\n                    let i\n                    for (i = 0; i < pchilds.length; i++)\n                        if (pchilds[i] === T)\n                            break\n                    if (i < pchilds.length)\n                        for (i++; i < pchilds.length; i++)\n                            matchAndTake(pchilds[i])\n                }\n            }\n            else if (op === \"../\") {\n                /*  direct parent  */\n                let parent = this.adapter.getParentNode(T, t)\n                if (parent !== null)\n                    matchAndTake(parent)\n            }\n            else if (op === \"..//\") {\n                /*  transitive parents  */\n                let node = T\n                for (;;) {\n                    let parent = this.adapter.getParentNode(node, t)\n                    if (parent === null)\n                        break\n                    matchAndTake(parent)\n                    node = parent\n                }\n            }\n            else if (op === \"<//\") {\n                /*  transitive preceding nodes  */\n                let ctx = { sentinel: T, take: true }\n                for (;;) {\n                    let parent = this.adapter.getParentNode(T, \"*\")\n                    if (parent === null)\n                        break\n                    T = parent\n                }\n                let walk = (T) => {\n                    if (T === ctx.sentinel)\n                        ctx.take = false\n                    if (ctx.take)\n                        matchAndTake(T)\n                    if (ctx.take)\n                        this.adapter.getChildNodes(T, t).forEach((T) => walk(T)) /* RECURSION */\n                }\n                if (T !== ctx.sentinel) {\n                    matchAndTake(T)\n                    this.adapter.getChildNodes(T, t).forEach((T) => walk(T))\n                }\n                nodes = nodes.reverse()\n            }\n            else if (op === \">//\") {\n                /*  transitive following nodes  */\n                let ctx = { sentinel: T, take: false }\n                for (;;) {\n                    let parent = this.adapter.getParentNode(T, \"*\")\n                    if (parent === null)\n                        break\n                    T = parent\n                }\n                let walk = (T) => {\n                    if (ctx.take)\n                        matchAndTake(T)\n                    if (T === ctx.sentinel)\n                        ctx.take = true\n                    this.adapter.getChildNodes(T, t).forEach((T) => walk(T)) /* RECURSION */\n                }\n                this.adapter.getChildNodes(T, t).forEach((T) => walk(T))\n            }\n        }\n        else\n            /*  current node  */\n            matchAndTake(T)\n\n        this.traceEnd(Q, T, nodes)\n        return nodes\n    }\n\n    execFilter (Q, T) {\n        this.traceBegin(Q, T)\n        let expr = Q.childs()[0]\n        let result = this.execExpr(expr, T)\n        result = util.truthy(result)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExpr (Q, T) {\n        switch (Q.type()) {\n            case \"ConditionalBinary\":  return this.execExprConditionalBinary(Q, T)\n            case \"ConditionalTernary\": return this.execExprConditionalTernary(Q, T)\n            case \"Logical\":            return this.execExprLogical(Q, T)\n            case \"Bitwise\":            return this.execExprBitwise(Q, T)\n            case \"Relational\":         return this.execExprRelational(Q, T)\n            case \"Arithmetical\":       return this.execExprArithmetical(Q, T)\n            case \"Unary\":              return this.execExprUnary(Q, T)\n            case \"FuncCall\":           return this.execExprFuncCall(Q, T)\n            case \"Attribute\":          return this.execExprAttribute(Q, T)\n            case \"Param\":              return this.execExprParam(Q, T)\n            case \"LiteralString\":      return this.execExprLiteralString(Q, T)\n            case \"LiteralRegExp\":      return this.execExprLiteralRegExp(Q, T)\n            case \"LiteralNumber\":      return this.execExprLiteralNumber(Q, T)\n            case \"LiteralValue\":       return this.execExprLiteralValue(Q, T)\n            case \"Path\":               return this.execExprPath(Q, T)\n        }\n    }\n\n    execExprConditionalBinary (Q, T) {\n        this.traceBegin(Q, T)\n        let result = this.execExpr(Q.childs()[0], T)\n        if (!util.truthy(result))\n            result = this.execExpr(Q.childs()[1], T)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprConditionalTernary (Q, T) {\n        this.traceBegin(Q, T)\n        let result = this.execExpr(Q.childs()[0], T)\n        if (util.truthy(result))\n            result = this.execExpr(Q.childs()[1], T)\n        else\n            result = this.execExpr(Q.childs()[2], T)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLogical (Q, T) {\n        this.traceBegin(Q, T)\n        let result = false\n        switch (Q.get(\"op\")) {\n            case \"&&\":\n                result = util.truthy(this.execExpr(Q.childs()[0], T))\n                if (result)\n                    result = result && util.truthy(this.execExpr(Q.childs()[1], T))\n                break\n            case \"||\":\n                result = util.truthy(this.execExpr(Q.childs()[0], T))\n                if (!result)\n                    result = result || util.truthy(this.execExpr(Q.childs()[1], T))\n                break\n        }\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprBitwise (Q, T) {\n        this.traceBegin(Q, T)\n        let v1 = util.coerce(this.execExpr(Q.childs()[0], T), \"number\")\n        let v2 = util.coerce(this.execExpr(Q.childs()[1], T), \"number\")\n        let result\n        switch (Q.get(\"op\")) {\n            case \"&\":  result = v1 &  v2; break\n            case \"|\":  result = v1 |  v2; break\n            case \"<<\": result = v1 << v2; break\n            case \">>\": result = v1 >> v2; break\n        }\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprRelational (Q, T) {\n        this.traceBegin(Q, T)\n        let v1 = this.execExpr(Q.childs()[0], T)\n        let v2 = this.execExpr(Q.childs()[1], T)\n        let result\n        switch (Q.get(\"op\")) {\n            case \"==\": result = v1 === v2; break\n            case \"!=\": result = v1 !== v2; break\n            case \"<=\": result = util.coerce(v1, \"number\") <= util.coerce(v2, \"number\"); break\n            case \">=\": result = util.coerce(v1, \"number\") >= util.coerce(v2, \"number\"); break\n            case \"<\":  result = util.coerce(v1, \"number\") <  util.coerce(v2, \"number\"); break\n            case \">\":  result = util.coerce(v1, \"number\") >  util.coerce(v2, \"number\"); break\n            case \"=~\": result = util.coerce(v1, \"string\").match(util.coerce(v2, \"regexp\")) !== null; break\n            case \"!~\": result = util.coerce(v1, \"string\").match(util.coerce(v2, \"regexp\")) === null; break\n        }\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprArithmetical (Q, T) {\n        this.traceBegin(Q, T)\n        let v1 = this.execExpr(Q.childs()[0], T)\n        let v2 = this.execExpr(Q.childs()[1], T)\n        let result\n        switch (Q.get(\"op\")) {\n            case \"+\":\n                if (typeof v1 === \"string\")\n                    result = v1 + util.coerce(v2, \"string\")\n                else\n                    result = util.coerce(v1, \"number\") + util.coerce(v2, \"number\")\n                break\n            case \"-\":  result = util.coerce(v1, \"number\") + util.coerce(v2, \"number\"); break\n            case \"*\":  result = util.coerce(v1, \"number\") * util.coerce(v2, \"number\"); break\n            case \"/\":  result = util.coerce(v1, \"number\") / util.coerce(v2, \"number\"); break\n            case \"%\":  result = util.coerce(v1, \"number\") % util.coerce(v2, \"number\"); break\n            case \"**\": result = Math.pow(util.coerce(v1, \"number\"), util.coerce(v2, \"number\")); break\n        }\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprUnary (Q, T) {\n        this.traceBegin(Q, T)\n        let v = this.execExpr(Q.childs()[0], T)\n        let result\n        /* jscs: disable */\n        switch (Q.get(\"op\")) {\n            case \"!\": result = !util.coerce(v, \"boolean\"); break\n            case \"~\": result = ~util.coerce(v, \"number\");  break\n        }\n        /* jscs: enable */\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprFuncCall (Q, T) {\n        this.traceBegin(Q, T)\n        let id = Q.get(\"id\")\n        let args = [ this.adapter, T ]\n        Q.childs().forEach((Q) => {\n            args.push(this.execExpr(Q, T))\n        })\n        let result = this.funcs.run(id, args)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprAttribute (Q, T) {\n        this.traceBegin(Q, T)\n        let id = Q.get(\"id\")\n        let result = this.adapter.getNodeAttrValue(T, id)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprParam (Q, T) {\n        this.traceBegin(Q, T)\n        let id = Q.get(\"id\")\n        if (typeof this.params[id] === \"undefined\")\n            throw new Error(\"invalid parameter \\\"\" + id + \"\\\"\")\n        let result = this.params[id]\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLiteralString (Q, T) {\n        this.traceBegin(Q, T)\n        let result = Q.get(\"value\")\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLiteralRegExp (Q, T) {\n        this.traceBegin(Q, T)\n        let result = Q.get(\"value\")\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLiteralNumber (Q, T) {\n        this.traceBegin(Q, T)\n        let result = Q.get(\"value\")\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLiteralValue (Q, T) {\n        this.traceBegin(Q, T)\n        let result = Q.get(\"value\")\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprPath (Q, T) {\n        this.traceBegin(Q, T)\n        let result = this.execPath(Q, T)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* eslint no-console: 0 */\n\nimport util from \"./astq-util.js\"\n\nexport default class ASTQQueryTrace {\n    /*  determine output prefix based on tree depth  */\n    prefixOf (Q, T) {\n        let depth = 0\n        let node = Q\n        while ((node = node.parent()) !== null)\n            depth++\n        let prefix1 = util.pad(\"\", 4 * depth)\n        depth = 0\n        node = T\n        while ((node = this.adapter.getParentNode(node, \"*\")) !== null)\n            depth++\n        let prefix2 = util.pad(\"\", 4 * depth)\n        return { prefix1, prefix2 }\n    }\n\n    /*  begin tracing step  */\n    traceBegin (Q, T) {\n        if (!this.trace)\n            return\n        let { prefix1, prefix2 } = this.prefixOf(Q, T)\n        console.log(\"ASTQ: execute: | \" +\n            util.pad(prefix1 + Q.type() + \" (\", -60) + \" | \" +\n            prefix2 + this.adapter.getNodeType(T))\n    }\n\n    /*  end tracing step  */\n    traceEnd (Q, T, val) {\n        if (!this.trace)\n            return\n        let { prefix1, prefix2 } = this.prefixOf(Q, T)\n        let result\n        if (val === undefined)\n            result = \"undefined\"\n        else if (typeof val === \"object\" && val instanceof Array) {\n            result = \"[\"\n            val.forEach((node) => {\n                result += \"node(\" + this.adapter.getNodeType(node) + \"),\"\n            })\n            result = result.replace(/,$/, \"\") + \"]\"\n        }\n        else\n            result = typeof val + \"(\" + val + \")\"\n        if (result.length > 60)\n            result = result.substr(0, 60) + \"...\"\n        console.log(\"ASTQ: execute: | \" +\n            util.pad(prefix1 + \"): \" + result, -60) + \" | \" +\n            prefix2 + this.adapter.getNodeType(T))\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* global __dirname: true */\n/* global console: true */\n/* eslint no-console: 0 */\n\n/*  load external dependencies  */\nconst ASTY     = require(\"asty\")\nconst PEG      = require(\"pegjs-otf\")\nconst PEGUtil  = require(\"pegjs-util\")\n\n/*  get query parser (by loading and on-the-fly compiling PEG.js grammar)  */\nconst ASTQQueryParse = PEG.buildParserFromFile(\n    __dirname + \"/astq-query-parse.pegjs\",\n    { optimize: \"speed\", cache: true }\n)\n\n/*  get query executor  */\nimport ASTQQueryExec from \"./astq-query-exec.js\"\n\nexport default class ASTQQuery {\n    /*  create a new instance of the query instance  */\n    constructor (selector) {\n        this.asty = new ASTY()\n        this.ast = null\n        if (selector)\n            this.compile(selector)\n    }\n\n    /*  compile query selector into AST  */\n    compile (selector, trace) {\n        if (trace)\n            console.log(\"ASTQ: compile: +---------------------------------------\" +\n                \"----------------------------------------------------------------\\n\" +\n                \"ASTQ: compile: | \" + selector)\n        let result = PEGUtil.parse(ASTQQueryParse, selector, {\n            startRule: \"query\",\n            makeAST: (line, column, offset, args) => {\n                return this.asty.create.apply(this.asty, args).pos(line, column, offset)\n            }\n        })\n        if (result.error !== null)\n            throw new Error(\"ASTQ: compile: query parsing failed:\\n\" +\n                PEGUtil.errorMessage(result.error, true).replace(/^/mg, \"ERROR: \"))\n        this.ast = result.ast\n        if (trace)\n            console.log(\"ASTQ: compile: +---------------------------------------\" +\n                \"----------------------------------------------------------------\\n\" +\n                this.dump().replace(/\\n$/, \"\").replace(/^/mg, \"ASTQ: compile: | \"))\n        return this\n    }\n\n    /*  dump the query AST  */\n    dump () {\n        return this.ast.dump()\n    }\n\n    /*  execute the query AST onto node  */\n    execute (node, adapter, params, funcs, trace) {\n        if (trace)\n            console.log(\"ASTQ: execute: +---------------------------------------\" +\n                \"-----------------------+----------------------------------------\")\n        let qe = new ASTQQueryExec(adapter, params, funcs, trace)\n        return qe.execQuery(this.ast, node)\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQUtil {\n    /*  pad a string with spaces to the left/right  */\n    static pad (str, num) {\n        let n = num < 0 ? -num : num\n        if (str.length > n)\n            str = str.substr(0, n)\n        else {\n            let pad = Array((n + 1) - str.length).join(\" \")\n            str = num < 0 ? (str + pad) : (pad + str)\n        }\n        return str\n    }\n\n    /*  check whether value is \"true\" (or can be considered to be true)  */\n    static truthy (value) {\n        let result\n        switch (typeof value) {\n            case \"boolean\":\n                result = value\n                break\n            case \"number\":\n                result = (value !== 0 && !isNaN(value))\n                break\n            case \"string\":\n                result = (value !== \"\")\n                break\n            case \"object\":\n                result = false\n                if (value !== null) {\n                    result = true\n                    if (value instanceof Array)\n                        result = value.length > 0\n                }\n                break\n            default:\n                result = false\n        }\n        return result\n    }\n\n    /*  coerce value to particular type  */\n    static coerce (value, type) {\n        if (typeof value !== type) {\n            try {\n                switch (type) {\n                    case \"boolean\":\n                        if (typeof value !== \"boolean\")\n                            value = Boolean(value)\n                        break\n                    case \"number\":\n                        if (typeof value !== \"number\")\n                            value = Number(value)\n                        break\n                    case \"string\":\n                        if (typeof value !== \"string\")\n                            value = String(value)\n                        break\n                    case \"regexp\":\n                        if (!(typeof value === \"object\" && value instanceof RegExp))\n                            value = new RegExp(value)\n                        break\n                }\n            }\n            catch (e) {\n                throw new Error(\"cannot coerce value into type \" + type)\n            }\n        }\n        return value\n    }\n}\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* global 1: false */\n/* global 7: false */\n/* global 0: false */\n/* global 20160626:  false */\n\nlet version = {\n    major: 1,\n    minor: 7,\n    micro: 0,\n    date:  20160626\n}\n\nexport default version\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  load external depdendencies  */\nlet CacheLRU = require(\"cache-lru\")\n\n/*  load internal dependencies  */\nimport ASTQAdapter       from \"./astq-adapter.js\"\nimport ASTQAdapterASTY   from \"./astq-adapter-asty.js\"\nimport ASTQAdapterMOZAST from \"./astq-adapter-mozast.js\"\nimport ASTQAdapterXMLDOM from \"./astq-adapter-xmldom.js\"\nimport ASTQFuncs         from \"./astq-funcs.js\"\nimport ASTQFuncsSTD      from \"./astq-funcs-std.js\"\nimport ASTQQuery         from \"./astq-query.js\"\nimport ASTQVersion       from \"./astq-version.js\"\n\n/*  define the API class  */\nclass ASTQ {\n    /*  create a new ASTq instance  */\n    constructor () {\n        /*  create adapter registry and pre-register standard adapters  */\n        this._adapter = new ASTQAdapter()\n            .register(ASTQAdapterMOZAST)\n            .register(ASTQAdapterXMLDOM)\n            .register(ASTQAdapterASTY)\n\n        /*  create function registry and pre-register standard functions  */\n        this._funcs = new ASTQFuncs()\n        for (let name in ASTQFuncsSTD)\n            this.func(name, ASTQFuncsSTD[name])\n\n        /*  create LRU cache  */\n        this._cache = new CacheLRU()\n    }\n\n    /*  return the version information  */\n    version () {\n        return ASTQVersion\n    }\n\n    /*  switch to a custom adapter  */\n    adapter (adapter) {\n        if (arguments.length !== 1)\n            throw new Error(\"ASTQ#adapter: invalid number of arguments\")\n        this._adapter.unregister()\n        this._adapter.register(adapter)\n        return this\n    }\n\n    /*  register an additional function  */\n    func (name, func) {\n        if (arguments.length !== 2)\n            throw new Error(\"ASTQ#func: invalid number of arguments\")\n        this._funcs.register(name, func)\n        return this\n    }\n\n    /*  configure the LRU cache limit  */\n    cache (entries) {\n        if (arguments.length !== 1)\n            throw new Error(\"ASTQ#cache: invalid number of arguments\")\n        this._cache.limit(entries)\n        return this\n    }\n\n    /*  individual step 1: compile selector DSL into a query AST  */\n    compile (selector, trace) {\n        if (arguments.length < 1)\n            throw new Error(\"ASTQ#compile: too less arguments\")\n        if (arguments.length > 2)\n            throw new Error(\"ASTQ#compile: too many arguments\")\n        if (trace === undefined)\n            trace = false\n        let query = this._cache.get(selector)\n        if (query === undefined) {\n            query = new ASTQQuery()\n            query.compile(selector, trace)\n            this._cache.set(selector, query)\n        }\n        return query\n    }\n\n    /*  individual step 2: execute query AST onto node  */\n    execute (node, query, params, trace) {\n        if (arguments.length < 2)\n            throw new Error(\"ASTQ#execute: too less arguments\")\n        if (arguments.length > 4)\n            throw new Error(\"ASTQ#execute: too many arguments\")\n        if (params === undefined)\n            params = {}\n        if (trace === undefined)\n            trace = false\n        let adapter = this._adapter.select(node)\n        if (adapter === undefined)\n            throw new Error(\"ASTQ#execute: no suitable adapter found for node\")\n        return query.execute(node, adapter, params, this._funcs, trace)\n    }\n\n    /*  all-in-one step: execute selector DSL onto node  */\n    query (node, selector, params, trace) {\n        if (arguments.length < 2)\n            throw new Error(\"ASTQ#query: too less arguments\")\n        if (arguments.length > 4)\n            throw new Error(\"ASTQ#query: too many arguments\")\n        if (params === undefined)\n            params = {}\n        if (trace === undefined)\n            trace = false\n        return this.execute(node, this.compile(selector, trace), params, trace)\n    }\n}\n\n/*  export the traditional way for interoperability reasons\n    (as Babel would export an object with a 'default' field)  */\nmodule.exports = ASTQ\n\n","/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ASTY = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYBase = function () {\n    function ASTYBase() {\n        _classCallCheck(this, ASTYBase);\n    }\n\n    _createClass(ASTYBase, [{\n        key: \"init\",\n\n        /*  AST node initialization  */\n        value: function init(ctx, T, A, C) {\n            if (arguments.length < 2) throw new Error(\"init: invalid number of arguments\");\n            this.ctx = ctx;\n            this.ASTy = true;\n            this.T = T;\n            this.L = { L: 0, C: 0, O: 0 };\n            this.A = {};\n            this.C = [];\n            this.P = null;\n            if ((typeof A === \"undefined\" ? \"undefined\" : _typeof(A)) === \"object\") {\n                for (var name in A) {\n                    if (A.hasOwnProperty(name)) this.set(name, A[name]);\n                }\n            }\n            if ((typeof C === \"undefined\" ? \"undefined\" : _typeof(C)) === \"object\" && C instanceof Array) this.add(C);\n            return this;\n        }\n\n        /*  check the type of an AST node  */\n\n    }, {\n        key: \"type\",\n        value: function type(T) {\n            if (arguments.length === 0) return this.T;else if (arguments.length === 1) {\n                this.T = T;\n                return this;\n            } else throw new Error(\"type: invalid number of arguments\");\n        }\n\n        /*  set the parsing position   */\n\n    }, {\n        key: \"pos\",\n        value: function pos(line, column, offset) {\n            if (arguments.length === 0) return {\n                line: this.L.L,\n                column: this.L.C,\n                offset: this.L.O\n            };else if (arguments.length <= 3) {\n                this.L.L = line || 0;\n                this.L.C = column || 0;\n                this.L.O = offset || 0;\n                return this;\n            } else throw new Error(\"pos: invalid number of arguments\");\n        }\n\n        /*  set AST node attributes  */\n\n    }, {\n        key: \"set\",\n        value: function set() {\n            var _this = this;\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            if (args.length === 1 && _typeof(args[0]) === \"object\") {\n                Object.keys(args[0]).forEach(function (key) {\n                    _this.A[key] = args[0][key];\n                });\n            } else if (args.length === 2) this.A[args[0]] = args[1];else throw new Error(\"set: invalid number of arguments\");\n            return this;\n        }\n\n        /*  unset AST node attributes  */\n\n    }, {\n        key: \"unset\",\n        value: function unset() {\n            var _this2 = this;\n\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n\n            if (args.length === 1 && _typeof(args[0]) === \"object\" && args[0] instanceof Array) {\n                args[0].forEach(function (key) {\n                    delete _this2.A[key];\n                });\n            } else if (args.length === 1) delete this.A[args[0]];else throw new Error(\"unset: invalid number of arguments\");\n            return this;\n        }\n\n        /*  get AST node attributes  */\n\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            if (arguments.length !== 1) throw new Error(\"get: invalid number of arguments\");\n            if (typeof key !== \"string\") throw new Error(\"get: invalid key argument\");\n            return this.A[key];\n        }\n\n        /*  get names of all AST node attributes  */\n\n    }, {\n        key: \"attrs\",\n        value: function attrs() {\n            return Object.keys(this.A);\n        }\n\n        /*  return current sibling position  */\n\n    }, {\n        key: \"nth\",\n        value: function nth() {\n            if (this.P === null) return 1;\n            var idx = this.P.C.indexOf(this);\n            if (idx < 0) throw new Error(\"nth: internal error -- node not in childs of its parent\");\n            return idx;\n        }\n\n        /*  insert child AST node(s)  */\n\n    }, {\n        key: \"ins\",\n        value: function ins(pos) {\n            var _this3 = this;\n\n            for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n                args[_key3 - 1] = arguments[_key3];\n            }\n\n            if (args.length === 0) throw new Error(\"ins: invalid number of arguments\");\n            if (pos < 0) pos = this.C.length + 1 - pos;\n            if (!(0 <= pos && pos <= this.C.length)) throw new Error(\"ins: invalid position\");\n            var _ins = function _ins(node) {\n                if (!_this3.ctx.isA(node)) throw new Error(\"ins: invalid AST node argument\");\n                _this3.C.splice(pos++, 0, node);\n                node.P = _this3;\n            };\n            args.forEach(function (arg) {\n                if ((typeof arg === \"undefined\" ? \"undefined\" : _typeof(arg)) === \"object\" && arg instanceof Array) arg.forEach(function (arg) {\n                    _ins(arg);\n                });else if (arg !== null) _ins(arg);\n            });\n            return this;\n        }\n\n        /*  add child AST node(s)  */\n\n    }, {\n        key: \"add\",\n        value: function add() {\n            var _this4 = this;\n\n            for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n            }\n\n            if (args.length === 0) throw new Error(\"add: invalid number of arguments\");\n            var _add = function _add(node) {\n                if (!_this4.ctx.isA(node)) throw new Error(\"add: invalid AST node argument\");\n                _this4.C.push(node);\n                node.P = _this4;\n            };\n            args.forEach(function (arg) {\n                if ((typeof arg === \"undefined\" ? \"undefined\" : _typeof(arg)) === \"object\" && arg instanceof Array) arg.forEach(function (arg) {\n                    _add(arg);\n                });else if (arg !== null) _add(arg);\n            });\n            return this;\n        }\n\n        /*  delete child AST node(s)  */\n\n    }, {\n        key: \"del\",\n        value: function del() {\n            var _this5 = this;\n\n            for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n                args[_key5] = arguments[_key5];\n            }\n\n            if (args.length === 0) throw new Error(\"del: invalid number of argument\");\n            args.forEach(function (node) {\n                if (!_this5.ctx.isA(node)) throw new Error(\"del: invalid AST node argument\");\n                var found = false;\n                for (var j = 0; j < _this5.C.length; j++) {\n                    if (_this5.C[j] === node) {\n                        _this5.C.splice(j, 1);\n                        node.P = null;\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) throw new Error(\"del: AST node not found in childs\");\n            });\n            return this;\n        }\n\n        /*  get child AST nodes  */\n\n    }, {\n        key: \"childs\",\n        value: function childs() {\n            return this.C;\n        }\n\n        /*  get parent AST node  */\n\n    }, {\n        key: \"parent\",\n        value: function parent() {\n            return this.P;\n        }\n\n        /*  serialize AST node recursively  */\n\n    }, {\n        key: \"serialize\",\n        value: function serialize() {\n            return this.ctx.serialize(this.ctx, this);\n        }\n    }]);\n\n    return ASTYBase;\n}();\n\nexports.default = ASTYBase;\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYDump = function () {\n    function ASTYDump() {\n        _classCallCheck(this, ASTYDump);\n    }\n\n    _createClass(ASTYDump, [{\n        key: \"dump\",\n\n        /*  dump the AST recursively  */\n        value: function dump(maxDepth) {\n            if (maxDepth === undefined) maxDepth = Infinity;\n            var out = \"\";\n            this.walk(function (node, depth /*, parent, when */) {\n                if (depth > maxDepth) return;\n                for (var i = 0; i < depth; i++) {\n                    out += \"    \";\n                }out += node.T + \" \";\n                var keys = Object.keys(node.A);\n                if (keys.length > 0) {\n                    (function () {\n                        out += \"(\";\n                        var first = true;\n                        keys.forEach(function (key) {\n                            if (!first) out += \", \";else first = false;\n                            out += key + \": \";\n                            var value = node.A[key];\n                            switch (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) {\n                                case \"boolean\":\n                                case \"number\":\n                                    out += value.toString();\n                                    break;\n                                case \"string\":\n                                    var hex = function hex(ch) {\n                                        return ch.charCodeAt(0).toString(16).toUpperCase();\n                                    };\n                                    out += \"\\\"\" + value.replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, \"\\\\\\\"\").replace(/\\x08/g, \"\\\\b\").replace(/\\t/g, \"\\\\t\").replace(/\\n/g, \"\\\\n\").replace(/\\f/g, \"\\\\f\").replace(/\\r/g, \"\\\\r\").replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function (ch) {\n                                        return \"\\\\x0\" + hex(ch);\n                                    }).replace(/[\\x10-\\x1F\\x80-\\xFF]/g, function (ch) {\n                                        return \"\\\\x\" + hex(ch);\n                                    }).replace(/[\\u0100-\\u0FFF]/g, function (ch) {\n                                        return \"\\\\u0\" + hex(ch);\n                                    }).replace(/[\\u1000-\\uFFFF]/g, function (ch) {\n                                        return \"\\\\u\" + hex(ch);\n                                    }) + \"\\\"\";\n                                    break;\n                                case \"object\":\n                                    if (value instanceof RegExp) out += value.source;else out += JSON.stringify(value);\n                                    break;\n                                default:\n                                    out += JSON.stringify(value);\n                                    break;\n                            }\n                        });\n                        out += \") \";\n                    })();\n                }\n                out += \"[\" + node.L.L + \"/\" + node.L.C + \"]\\n\";\n            }, \"downward\");\n            return out;\n        }\n    }]);\n\n    return ASTYDump;\n}();\n\nexports.default = ASTYDump;\n\n},{}],3:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYMerge = function () {\n    function ASTYMerge() {\n        _classCallCheck(this, ASTYMerge);\n    }\n\n    _createClass(ASTYMerge, [{\n        key: \"merge\",\n\n        /*  merge attributes and childs of an AST node  */\n        value: function merge(node) {\n            var _this = this;\n\n            var takePos = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n            var attrMap = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n            if (!this.ctx.isA(node)) throw new Error(\"merge: invalid AST node argument\");\n            if (takePos) {\n                var pos = node.pos();\n                this.pos(pos.L, pos.C, pos.O);\n            }\n            node.attrs().forEach(function (attrSource) {\n                var attrTarget = typeof attrMap[attrSource] !== \"undefined\" ? attrMap[attrSource] : attrSource;\n                if (attrTarget !== null) _this.set(attrTarget, node.get(attrSource));\n            });\n            node.childs().forEach(function (child) {\n                _this.add(child);\n            });\n            return this;\n        }\n    }]);\n\n    return ASTYMerge;\n}();\n\nexports.default = ASTYMerge;\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYSerialize = function () {\n    function ASTYSerialize() {\n        _classCallCheck(this, ASTYSerialize);\n    }\n\n    _createClass(ASTYSerialize, null, [{\n        key: \"serialize\",\n\n        /*  recursively serialize AST nodes into JSON string  */\n        value: function serialize(asty, node) {\n            var serializeNode = function serializeNode(node) {\n                var clone = {\n                    T: node.T,\n                    L: { L: node.L.L, C: node.L.C, O: node.L.O }\n                };\n                var keys = Object.keys(node.A);\n                if (keys.length > 0) {\n                    clone.A = {};\n                    keys.forEach(function (key) {\n                        var value = node.A[key];\n                        switch (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) {\n                            case \"boolean\":\n                            case \"number\":\n                            case \"string\":\n                                clone.A[key] = value;\n                                break;\n                            default:\n                                /*  use the slow approach only for non-atomic attributes  */\n                                clone.A[key] = JSON.parse(JSON.stringify(value));\n                                break;\n                        }\n                    });\n                }\n                if (node.C.length > 0) clone.C = node.C.map(function (C) {\n                    return serializeNode(C);\n                });\n                return clone;\n            };\n            if (!asty.isA(node)) throw new Error(\"serialize: not an ASTy node\");\n            return JSON.stringify({ ASTy: serializeNode(node) });\n        }\n\n        /*  recursively unserialize JSON string into AST nodes  */\n\n    }, {\n        key: \"unserialize\",\n        value: function unserialize(asty, json) {\n            var unserializeNode = function unserializeNode(clone) {\n                var node = asty.create(clone.T);\n                node.pos(clone.L.L, clone.L.C, clone.L.O);\n                if (_typeof(clone.A) === \"object\") {\n                    Object.keys(clone.A).forEach(function (key) {\n                        var value = clone.A[key];\n                        switch (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) {\n                            case \"boolean\":\n                            case \"number\":\n                            case \"string\":\n                                node.set(key, value);\n                                break;\n                            default:\n                                /*  use the slow approach only for non-atomic attributes  */\n                                node.set(key, JSON.parse(JSON.stringify(value)));\n                                break;\n                        }\n                    });\n                }\n                if (_typeof(clone.C) === \"object\" && clone.C instanceof Array) node.add(clone.C.map(function (C) {\n                    return unserializeNode(C);\n                }));\n                return node;\n            };\n            var obj = JSON.parse(json);\n            if ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) !== \"object\" || _typeof(obj.ASTy) !== \"object\") throw new Error(\"unserialize: not an ASTy JSON export\");\n            return unserializeNode(obj.ASTy);\n        }\n    }]);\n\n    return ASTYSerialize;\n}();\n\nexports.default = ASTYSerialize;\n\n},{}],5:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* global 1: false */\n/* global 4: false */\n/* global 4: false */\n/* global 20160519:  false */\n\nvar version = {\n    major: 1,\n    minor: 4,\n    micro: 4,\n    date: 20160519\n};\n\nexports.default = version;\n\n},{}],6:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYWalk = function () {\n    function ASTYWalk() {\n        _classCallCheck(this, ASTYWalk);\n    }\n\n    _createClass(ASTYWalk, [{\n        key: \"walk\",\n\n        /*  walk the AST recursively  */\n        value: function walk(cb) {\n            var when = arguments.length <= 1 || arguments[1] === undefined ? \"downward\" : arguments[1];\n\n            var _walk = function _walk(node, depth, parent) {\n                if (when === \"downward\" || when === \"both\") cb.call(null, node, depth, parent, \"downward\");\n                node.C.forEach(function (child) {\n                    _walk(child, depth + 1, node);\n                });\n                if (when === \"upward\" || when === \"both\") cb.call(null, node, depth, parent, \"upward\");\n            };\n            _walk(this, 0, null);\n            return this;\n        }\n    }]);\n\n    return ASTYWalk;\n}();\n\nexports.default = ASTYWalk;\n\n},{}],7:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  ASTy -- Abstract Syntax Tree (AST) Data Structure\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  Copyright (c) 2014-2016 Ralf S. Engelschall <rse@engelschall.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  Permission is hereby granted, free of charge, to any person obtaining\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  a copy of this software and associated documentation files (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  \"Software\"), to deal in the Software without restriction, including\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  without limitation the rights to use, copy, modify, merge, publish,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  distribute, sublicense, and/or sell copies of the Software, and to\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  permit persons to whom the Software is furnished to do so, subject to\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  the following conditions:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  The above copyright notice and this permission notice shall be included\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  in all copies or substantial portions of the Software.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\nvar _astyBase = _dereq_(\"./asty-base.js\");\n\nvar _astyBase2 = _interopRequireDefault(_astyBase);\n\nvar _astyMerge = _dereq_(\"./asty-merge.js\");\n\nvar _astyMerge2 = _interopRequireDefault(_astyMerge);\n\nvar _astyWalk = _dereq_(\"./asty-walk.js\");\n\nvar _astyWalk2 = _interopRequireDefault(_astyWalk);\n\nvar _astyDump = _dereq_(\"./asty-dump.js\");\n\nvar _astyDump2 = _interopRequireDefault(_astyDump);\n\nvar _astySerialize = _dereq_(\"./asty-serialize.js\");\n\nvar _astySerialize2 = _interopRequireDefault(_astySerialize);\n\nvar _astyVersion = _dereq_(\"./asty-version.js\");\n\nvar _astyVersion2 = _interopRequireDefault(_astyVersion);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASTYCtx = function () {\n    function ASTYCtx() {\n        var _this = this;\n\n        _classCallCheck(this, ASTYCtx);\n\n        this.ASTYNode = function () {};\n        var mixins = [[_astyBase2.default, \"init\", \"type\", \"pos\", \"set\", \"unset\", \"get\", \"attrs\", \"nth\", \"ins\", \"add\", \"del\", \"childs\", \"parent\", \"serialize\"], [_astyMerge2.default, \"merge\"], [_astyWalk2.default, \"walk\"], [_astyDump2.default, \"dump\"]];\n        mixins.forEach(function (mixin) {\n            var proto = mixin[0].prototype;\n            mixin.slice(1).forEach(function (method) {\n                _this.ASTYNode.prototype[method] = proto[method];\n            });\n        });\n        return this;\n    }\n\n    _createClass(ASTYCtx, [{\n        key: \"version\",\n        value: function version() {\n            return _astyVersion2.default;\n        }\n    }, {\n        key: \"extend\",\n        value: function extend(mixin) {\n            for (var method in mixin) {\n                if (mixin.hasOwnProperty(method)) this.ASTYNode.prototype[method] = mixin[method];\n            }return this;\n        }\n    }, {\n        key: \"create\",\n        value: function create(type) {\n            return new this.ASTYNode().init(this, type);\n        }\n    }, {\n        key: \"isA\",\n        value: function isA(node) {\n            return (typeof node === \"undefined\" ? \"undefined\" : _typeof(node)) === \"object\" && node instanceof this.ASTYNode && typeof node.ASTy === \"boolean\" && node.ASTy === true;\n        }\n    }, {\n        key: \"serialize\",\n        value: function serialize(node) {\n            return _astySerialize2.default.serialize(this, node);\n        }\n    }, {\n        key: \"unserialize\",\n        value: function unserialize(json) {\n            return _astySerialize2.default.unserialize(this, json);\n        }\n    }]);\n\n    return ASTYCtx;\n}();\n\n/*  export the traditional way for interoperability reasons\n    (as Babel would export an object with a 'default' field)  */\n\n\nmodule.exports = ASTYCtx;\n\n},{\"./asty-base.js\":1,\"./asty-dump.js\":2,\"./asty-merge.js\":3,\"./asty-serialize.js\":4,\"./asty-version.js\":5,\"./asty-walk.js\":6}]},{},[1,2,3,4,5,6,7])(7)\n});","/*\n**  Cache-LRU -- In-Memory Cache with O(1) Operations and LRU Purging Strategy\n**  Copyright (c) 2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.CacheLRU = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),CacheLRU=function(){function e(){return _classCallCheck(this,e),this._index={},this._LRU={newer:null},this._MRU={older:null},this._LRU.newer=this._MRU,this._MRU.older=this._LRU,this._cur=0,this._max=1/0,this._dispose=function(){},this}return _createClass(e,[{key:\"limit\",value:function(e){var t=this._max;return arguments.length>0&&(this._max=e,this._purge()),t}},{key:\"dispose\",value:function(e){return this._dispose=e,this}},{key:\"length\",value:function(){return this._cur}},{key:\"keys\",value:function(){return this.each(function(e,t){this.push(t)},[])}},{key:\"values\",value:function(){return this.each(function(e){this.push(e)},[])}},{key:\"each\",value:function(e,t){2>arguments&&(t=this);for(var i=0,n=this._MRU.older;n!==this._LRU;)e.call(t,n.val,n.key,i++),n=n.older;return t}},{key:\"has\",value:function(e){var t=this._index[e];return void 0!==t}},{key:\"peek\",value:function(e){var t=this._index[e];if(void 0!==t)return t.expires<Date.now()?void this.del(t.key):t.val}},{key:\"touch\",value:function(e){var t=this._index[e];if(void 0===t)throw new Error(\"touch: no such item\");return this._promote(t),this}},{key:\"get\",value:function(e){var t=this._index[e];if(void 0!==t)return t.expires<Date.now()?void this.del(t.key):(this._promote(t),t.val)}},{key:\"set\",value:function(e,t,i){arguments.length<3&&(i=1/0),i+=Date.now();var n=this._index[e];if(void 0===n)n={older:null,newer:null,key:e,val:t,expires:i},this._index[e]=n,this._attach(n),this._cur++,this._purge();else{var r=n.val;n.val=t,this._promote(n),this._dispose.call(void 0,n.key,r,\"set\")}return this}},{key:\"del\",value:function(e){var t=this._index[e];if(void 0===t)throw new Error(\"del: no such item\");return delete this._index[e],this._detach(t),this._cur--,this._dispose.call(void 0,e,t.val,\"del\"),this}},{key:\"clear\",value:function(){for(;this._cur>0;)this.del(this._LRU.newer.key);return this}},{key:\"_purge\",value:function(){for(;this._cur>this._max;)this.del(this._LRU.newer.key)}},{key:\"_promote\",value:function(e){this._detach(e),this._attach(e)}},{key:\"_detach\",value:function(e){e.older.newer=e.newer,e.newer.older=e.older,e.older=null,e.newer=null}},{key:\"_attach\",value:function(e){e.older=this._MRU.older,e.newer=this._MRU,e.newer.older=e,e.older.newer=e}}]),e}();module.exports=CacheLRU;\n},{}]},{},[1])(1)\n});\n\n\n//# sourceMappingURL=bundle.map","/*\n**  pegjs-util -- Utility Class for PEG.js\n**  Copyright (c) 2014-2015 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  Universal Module Definition (UMD) for Library  */\n(function (root, name, factory) {\n    /* global define: false */\n    /* global module: false */\n    if (typeof define === \"function\" && typeof define.amd !== \"undefined\")\n        /*  AMD environment  */\n        define(name, function () { return factory(root); });\n    else if (typeof module === \"object\" && typeof module.exports === \"object\")\n        /*  CommonJS environment  */\n        module.exports = factory(root);\n    else\n        /*  Browser environment  */\n        root[name] = factory(root);\n}(/* global global: false */\n  (typeof global !== \"undefined\" ? global :\n  /* global window: false */\n  (typeof window !== \"undefined\" ? window : this)), \"PEGUtil\", function (/* root */) {\n\n    var PEGUtil = {};\n\n    /*  helper function for generating a function to generate an AST node  */\n    PEGUtil.makeAST = function makeAST (location, options) {\n        return function () {\n            return options.util.__makeAST.call(\n                null,\n                location().start.line,\n                location().start.column,\n                location().start.offset,\n                arguments\n            );\n        };\n    };\n\n    /*  helper function for generating a function to unroll the parse stack  */\n    PEGUtil.makeUnroll = function (location, options) {\n        return function (first, list, take) {\n            if (   typeof list !== \"object\"\n                || !(list instanceof Array))\n                throw new options.util.__SyntaxError(\"unroll: invalid list argument for unrolling\",\n                    (typeof list), \"Array\", location());\n            if (typeof take !== \"undefined\") {\n                if (typeof take === \"number\")\n                    take = [ take ];\n                var result = [];\n                if (first !== null)\n                    result.push(first);\n                for (var i = 0; i < list.length; i++) {\n                    for (var j = 0; j < take.length; j++)\n                        result.push(list[i][take[j]]);\n                }\n                return result;\n            }\n            else {\n                if (first !== null)\n                    list.unshift(first);\n                return list;\n            }\n        };\n    };\n\n    /*  utility function: create a source excerpt  */\n    var excerpt = function (txt, o) {\n        var l = txt.length;\n        var b = o - 20; if (b < 0) b = 0;\n        var e = o + 20; if (e > l) e = l;\n        var hex = function (ch) {\n            return ch.charCodeAt(0).toString(16).toUpperCase();\n        };\n        var extract = function (txt, pos, len) {\n            return txt.substr(pos, len)\n                .replace(/\\\\/g,   \"\\\\\\\\\")\n                .replace(/\\x08/g, \"\\\\b\")\n                .replace(/\\t/g,   \"\\\\t\")\n                .replace(/\\n/g,   \"\\\\n\")\n                .replace(/\\f/g,   \"\\\\f\")\n                .replace(/\\r/g,   \"\\\\r\")\n                .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return \"\\\\x0\" + hex(ch); })\n                .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return \"\\\\x\"  + hex(ch); })\n                .replace(/[\\u0100-\\u0FFF]/g,         function(ch) { return \"\\\\u0\" + hex(ch); })\n                .replace(/[\\u1000-\\uFFFF]/g,         function(ch) { return \"\\\\u\"  + hex(ch); });\n        };\n        return {\n            prolog: extract(txt, b, o - b),\n            token:  extract(txt, o, 1),\n            epilog: extract(txt, o + 1, e - (o + 1))\n        };\n    };\n\n    /*  provide top-level parsing functionality  */\n    PEGUtil.parse = function (parser, txt, options) {\n        if (typeof parser !== \"object\")\n            throw new Error(\"invalid parser object (not an object)\");\n        if (typeof parser.parse !== \"function\")\n            throw new Error(\"invalid parser object (no \\\"parse\\\" function)\");\n        if (typeof txt !== \"string\")\n            throw new Error(\"invalid input text (not a string)\");\n        if (typeof options !== \"undefined\" && typeof options !== \"object\")\n            throw new Error(\"invalid options (not an object)\");\n        if (typeof options === \"undefined\")\n            options = {};\n        var result = { ast: null, error: null };\n        try {\n            var makeAST;\n            if (typeof options.makeAST === \"function\")\n                makeAST = options.makeAST;\n            else {\n                makeAST = function (location, args) {\n                    return {\n                        line:   location().start.line,\n                        column: location().start.column,\n                        offset: location().start.offset,\n                        args:   args\n                    };\n                };\n            }\n            var opts = {\n                util: {\n                    makeUnroll:    PEGUtil.makeUnroll,\n                    makeAST:       PEGUtil.makeAST,\n                    __makeAST:     makeAST,\n                    __SyntaxError: parser.SyntaxError\n                }\n            };\n            if (typeof options.startRule === \"string\")\n                opts.startRule = options.startRule;\n            result.ast = parser.parse(txt, opts);\n            result.error = null;\n        }\n        catch (e) {\n            result.ast = null;\n            if (e instanceof parser.SyntaxError) {\n                var definedOrElse = function (value, fallback) {\n                    return (typeof value !== \"undefined\" ? value : fallback);\n                };\n                result.error = {\n                    line:     definedOrElse(e.location.start.line, 0),\n                    column:   definedOrElse(e.location.start.column, 0),\n                    message:  e.message,\n                    found:    definedOrElse(e.found, \"\"),\n                    expected: definedOrElse(e.expected, \"\"),\n                    location: excerpt(txt, definedOrElse(e.location.start.offset, 0))\n                };\n            }\n            else {\n                result.error = {\n                    line:     0,\n                    column:   0,\n                    message:  e.message,\n                    found:    \"\",\n                    expected: \"\",\n                    location: excerpt(\"\", 0)\n                };\n            }\n        }\n        return result;\n    };\n\n    /*  render a useful error message  */\n    PEGUtil.errorMessage = function (e, noFinalNewline) {\n        var l = e.location;\n        var prefix1 = \"line \" + e.line + \" (column \" + e.column + \"): \";\n        var prefix2 = \"\";\n        for (var i = 0; i < prefix1.length + l.prolog.length; i++)\n            prefix2 += \"-\";\n        var msg = prefix1 + l.prolog + l.token + l.epilog + \"\\n\" +\n            prefix2 + \"^\" + \"\\n\" +\n            e.message + (noFinalNewline ? \"\" : \"\\n\");\n        return msg;\n    };\n\n    return PEGUtil;\n}));\n\n"]}