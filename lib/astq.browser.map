{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/asty/lib/asty.node.js","node_modules/cache-lru/lib/cache-lru.js","node_modules/pegjs-util/PEGUtil.js","src/astq-adapter-asty.js","src/astq-adapter-mozast.js","src/astq-adapter-parse5.js","src/astq-adapter-xmldom.js","src/astq-adapter.js","src/astq-funcs-std.js","src/astq-funcs.js","src/astq-query-exec.js","src/astq-query-trace.js","src/astq-query.js","src/astq-util.js","src/astq-version.js","src/astq.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","ASTY","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_dereq_","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","ASTYBase","ctx","T","A","C","arguments","ASTy","L","O","P","name","hasOwnProperty","set","Array","add","line","column","offset","_this","_len","args","_key","keys","forEach","_this2","_len2","_key2","idx","indexOf","pos","_this3","_len3","_key3","_ins","node","isA","splice","arg","_this4","_len4","_key4","_add","push","_this5","_len5","_key5","found","j","undefined","slice","serialize","default","2","tree","mid","unicode","String","fromCharCode","ascii","last","down","left","ASTYDump","maxDepth","Infinity","colorize","type","txt","out","walk","depth","nodeIndex","nth","max","_nodeIndex","prefix","parent","_nodeIndex2","_nth","_max","first","toString","hex","ch","charCodeAt","toUpperCase","replace","RegExp","source","JSON","stringify","3","ASTYMerge","takePos","attrMap","attrs","attrSource","attrTarget","get","childs","child","4","ASTYSerialize","asty","serializeNode","clone","parse","map","json","unserializeNode","create","5","version","major","minor","micro","date","6","ASTYWalk","cb","when","_walk","7","_interopRequireDefault","__esModule","_astyBase","_astyBase2","_astyMerge","_astyMerge2","_astyWalk","_astyWalk2","_astyDump","_astyDump2","_astySerialize","_astySerialize2","_astyVersion","_astyVersion2","ASTYCtx","ASTYNode","mixin","proto","method","init","unserialize","./asty-base.js","./asty-dump.js","./asty-merge.js","./asty-serialize.js","./asty-version.js","./asty-walk.js","CacheLRU","_index","_LRU","newer","_MRU","older","_cur","_dispose","_purge","each","val","expires","Date","now","del","_promote","_attach","_detach","root","factory","PEGUtil","makeAST","location","options","util","__makeAST","start","makeUnroll","list","take","__SyntaxError","result","unshift","excerpt","b","extract","len","substr","prolog","token","epilog","parser","ast","error","SyntaxError","definedOrElse","fallback","message","expected","errorMessage","noFinalNewline","prefix1","prefix2","ASTQAdapterASTY","attr","ASTQAdapterMozAST","checkField","field","taste","names","ASTQAdapterParse5","Node","nodeName","parentNode","childNodes","concat","values","filter","ASTQAdapterXMLDOM","nodeType","hasChildNodes","attributes","hasAttributes","getAttribute","ASTQAdapter","_adapters","adapter","force","adapters","getParentNode","pchilds","getChildNodes","parents","stdfuncs","getNodeType","sep","getNodeAttrNames","join","num","parseInt","count","below","other","follows","pathOfT","reverse","pathOfOther","Math","min","in","str","index","sub","from","trim","lc","toLowerCase","uc","ASTQFuncs","_funcs","func","apply","_astqUtil","_astqQueryTrace","ASTQQueryExec","params","funcs","trace","_possibleConstructorReturn","__proto__","getPrototypeOf","Q","traceBegin","output","execPath","traceEnd","nodes","resultExplicit","execStep","axis","match","id","matchAndTake","execFilter","op","leftSibling","sentinel","expr","execExpr","_astqUtil2","truthy","execExprConditionalBinary","execExprConditionalTernary","execExprLogical","execExprBitwise","execExprRelational","execExprArithmetical","execExprUnary","execExprFuncCall","execExprAttribute","execExprParam","execExprLiteralString","execExprLiteralRegExp","execExprLiteralNumber","execExprLiteralValue","execExprPath","v1","coerce","v2","pow","v","run","getNodeAttrValue","ASTQQueryTrace","pad","_prefixOf","prefixOf","console","log","_prefixOf2","_astqQueryExec","ASTQQueryParse","peg$SyntaxError","captureStackTrace","ctor","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","text","escapedParts","parts","classEscape","dump","end","ASTQUtil","isNaN","Boolean","Number","_astqAdapter","_astqAdapterXmldom","_astqAdapterParse","_astqAdapterMozast","_astqAdapterAsty","_astqFuncs","_astqFuncsStd","_astqQuery","_astqVersion","ASTQ","_adapter","_astqAdapter2","register","_astqAdapterXmldom2","_astqAdapterParse2","_astqAdapterMozast2","_astqAdapterAsty2","_astqFuncs2","_astqFuncsStd2","_cache","_astqVersion2","unregister","entries","limit","selector","query","_astqQuery2","compile","select","execute"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ASTY = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYBase = function () {\n    function ASTYBase() {\n        _classCallCheck(this, ASTYBase);\n    }\n\n    _createClass(ASTYBase, [{\n        key: \"init\",\n\n        /*  AST node initialization  */\n        value: function init(ctx, T, A, C) {\n            if (arguments.length < 2) throw new Error(\"init: invalid number of arguments\");\n            this.ctx = ctx;\n            this.ASTy = true;\n            this.T = T;\n            this.L = { L: 0, C: 0, O: 0 };\n            this.A = {};\n            this.C = [];\n            this.P = null;\n            if ((typeof A === \"undefined\" ? \"undefined\" : _typeof(A)) === \"object\") {\n                for (var name in A) {\n                    if (A.hasOwnProperty(name)) this.set(name, A[name]);\n                }\n            }\n            if ((typeof C === \"undefined\" ? \"undefined\" : _typeof(C)) === \"object\" && C instanceof Array) this.add(C);\n            return this;\n        }\n\n        /*  check the type of an AST node  */\n\n    }, {\n        key: \"type\",\n        value: function type(T) {\n            if (arguments.length === 0) return this.T;else if (arguments.length === 1) {\n                this.T = T;\n                return this;\n            } else throw new Error(\"type: invalid number of arguments\");\n        }\n\n        /*  set the parsing position   */\n\n    }, {\n        key: \"pos\",\n        value: function pos(line, column, offset) {\n            if (arguments.length === 0) return {\n                line: this.L.L,\n                column: this.L.C,\n                offset: this.L.O\n            };else if (arguments.length <= 3) {\n                this.L.L = line || 0;\n                this.L.C = column || 0;\n                this.L.O = offset || 0;\n                return this;\n            } else throw new Error(\"pos: invalid number of arguments\");\n        }\n\n        /*  set AST node attributes  */\n\n    }, {\n        key: \"set\",\n        value: function set() {\n            var _this = this;\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            if (args.length === 1 && _typeof(args[0]) === \"object\") {\n                Object.keys(args[0]).forEach(function (key) {\n                    _this.A[key] = args[0][key];\n                });\n            } else if (args.length === 2) this.A[args[0]] = args[1];else throw new Error(\"set: invalid number of arguments\");\n            return this;\n        }\n\n        /*  unset AST node attributes  */\n\n    }, {\n        key: \"unset\",\n        value: function unset() {\n            var _this2 = this;\n\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n\n            if (args.length === 1 && _typeof(args[0]) === \"object\" && args[0] instanceof Array) {\n                args[0].forEach(function (key) {\n                    delete _this2.A[key];\n                });\n            } else if (args.length === 1) delete this.A[args[0]];else throw new Error(\"unset: invalid number of arguments\");\n            return this;\n        }\n\n        /*  get AST node attributes  */\n\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            if (arguments.length !== 1) throw new Error(\"get: invalid number of arguments\");\n            if (typeof key !== \"string\") throw new Error(\"get: invalid key argument\");\n            return this.A[key];\n        }\n\n        /*  get names of all AST node attributes  */\n\n    }, {\n        key: \"attrs\",\n        value: function attrs() {\n            return Object.keys(this.A);\n        }\n\n        /*  return current sibling position  */\n\n    }, {\n        key: \"nth\",\n        value: function nth() {\n            if (this.P === null) return 1;\n            var idx = this.P.C.indexOf(this);\n            if (idx < 0) throw new Error(\"nth: internal error -- node not in childs of its parent\");\n            return idx;\n        }\n\n        /*  insert child AST node(s)  */\n\n    }, {\n        key: \"ins\",\n        value: function ins(pos) {\n            var _this3 = this;\n\n            for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n                args[_key3 - 1] = arguments[_key3];\n            }\n\n            if (args.length === 0) throw new Error(\"ins: invalid number of arguments\");\n            if (pos < 0) pos = this.C.length + 1 - pos;\n            if (!(0 <= pos && pos <= this.C.length)) throw new Error(\"ins: invalid position\");\n            var _ins = function _ins(node) {\n                if (!_this3.ctx.isA(node)) throw new Error(\"ins: invalid AST node argument\");\n                _this3.C.splice(pos++, 0, node);\n                node.P = _this3;\n            };\n            args.forEach(function (arg) {\n                if ((typeof arg === \"undefined\" ? \"undefined\" : _typeof(arg)) === \"object\" && arg instanceof Array) arg.forEach(function (arg) {\n                    _ins(arg);\n                });else if (arg !== null) _ins(arg);\n            });\n            return this;\n        }\n\n        /*  add child AST node(s)  */\n\n    }, {\n        key: \"add\",\n        value: function add() {\n            var _this4 = this;\n\n            for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                args[_key4] = arguments[_key4];\n            }\n\n            if (args.length === 0) throw new Error(\"add: invalid number of arguments\");\n            var _add = function _add(node) {\n                if (!_this4.ctx.isA(node)) throw new Error(\"add: invalid AST node argument\");\n                _this4.C.push(node);\n                node.P = _this4;\n            };\n            args.forEach(function (arg) {\n                if ((typeof arg === \"undefined\" ? \"undefined\" : _typeof(arg)) === \"object\" && arg instanceof Array) arg.forEach(function (arg) {\n                    _add(arg);\n                });else if (arg !== null) _add(arg);\n            });\n            return this;\n        }\n\n        /*  delete child AST node(s)  */\n\n    }, {\n        key: \"del\",\n        value: function del() {\n            var _this5 = this;\n\n            for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n                args[_key5] = arguments[_key5];\n            }\n\n            if (args.length === 0) throw new Error(\"del: invalid number of arguments\");\n            args.forEach(function (node) {\n                if (!_this5.ctx.isA(node)) throw new Error(\"del: invalid AST node argument\");\n                var found = false;\n                for (var j = 0; j < _this5.C.length; j++) {\n                    if (_this5.C[j] === node) {\n                        _this5.C.splice(j, 1);\n                        node.P = null;\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) throw new Error(\"del: AST node not found in childs\");\n            });\n            return this;\n        }\n\n        /*  get all or some child AST nodes  */\n\n    }, {\n        key: \"childs\",\n        value: function childs() {\n            if (arguments.length > 2) throw new Error(\"childs: invalid number of arguments\");\n            if (arguments.length === 2 && typeof (arguments.length <= 0 ? undefined : arguments[0]) === \"number\" && typeof (arguments.length <= 1 ? undefined : arguments[1]) === \"number\") return this.C.slice(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);else if (arguments.length === 1 && typeof (arguments.length <= 0 ? undefined : arguments[0]) === \"number\") return this.C.slice(arguments.length <= 0 ? undefined : arguments[0]);else if (arguments.length === 0) return this.C;else throw new Error(\"childs: invalid type of arguments\");\n        }\n\n        /*  get one child AST node  */\n\n    }, {\n        key: \"child\",\n        value: function child(pos) {\n            if (typeof pos !== \"number\") throw new Error(\"child: invalid argument\");\n            return pos < this.C.length ? this.C[pos] : null;\n        }\n\n        /*  get parent AST node  */\n\n    }, {\n        key: \"parent\",\n        value: function parent() {\n            return this.P;\n        }\n\n        /*  serialize AST node recursively  */\n\n    }, {\n        key: \"serialize\",\n        value: function serialize() {\n            return this.ctx.serialize(this.ctx, this);\n        }\n    }]);\n\n    return ASTYBase;\n}();\n\nexports.default = ASTYBase;\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar tree = {\n    mid: { unicode: String.fromCharCode(9500), ascii: \"+\" },\n    last: { unicode: String.fromCharCode(9492), ascii: \"+\" },\n    down: { unicode: String.fromCharCode(9474), ascii: \"|\" },\n    left: { unicode: String.fromCharCode(9472), ascii: \"-\" }\n};\n\nvar ASTYDump = function () {\n    function ASTYDump() {\n        _classCallCheck(this, ASTYDump);\n    }\n\n    _createClass(ASTYDump, [{\n        key: \"dump\",\n\n        /*  dump the AST recursively  */\n        value: function dump() {\n            var maxDepth = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Infinity;\n            var colorize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function (type, txt) {\n                return txt;\n            };\n            var unicode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            var out = \"\";\n            this.walk(function (node, depth /*, parent, when */) {\n                /*  short-circuit processing at a certain depth  */\n                if (depth > maxDepth) return;\n\n                /*  draw tree structure  */\n                if (depth > 0) {\n                    var nodeIndex = function nodeIndex(node) {\n                        var nth = 0;\n                        var max = 0;\n                        if (node.P !== null) {\n                            nth = node.P.C.indexOf(node);\n                            max = node.P.C.length - 1;\n                        }\n                        return { nth: nth, max: max };\n                    };\n\n                    var _nodeIndex = nodeIndex(node),\n                        nth = _nodeIndex.nth,\n                        max = _nodeIndex.max;\n\n                    var prefix = \" \";\n                    if (unicode) prefix = \"\" + tree.left.unicode + tree.left.unicode + prefix;else prefix = \"\" + tree.left.ascii + tree.left.ascii + prefix;\n                    if (nth < max) prefix = \"\" + (unicode ? tree.mid.unicode : tree.mid.ascii) + prefix;else prefix = \"\" + (unicode ? tree.last.unicode : tree.last.ascii) + prefix;\n                    for (var parent = node.P; parent !== null; parent = parent.P) {\n                        if (parent.P !== null) {\n                            var _nodeIndex2 = nodeIndex(parent),\n                                _nth = _nodeIndex2.nth,\n                                _max = _nodeIndex2.max;\n\n                            if (_nth < _max) prefix = (unicode ? tree.down.unicode : tree.down.ascii) + \"   \" + prefix;else prefix = \"    \" + prefix;\n                        }\n                    }\n                    out += colorize(\"tree\", prefix);\n                }\n\n                /*  draw node type  */\n                out += colorize(\"type\", node.T) + \" \";\n\n                /*  draw node attributes  */\n                var keys = Object.keys(node.A);\n                if (keys.length > 0) {\n                    out += colorize(\"parenthesis\", \"(\");\n                    var first = true;\n                    keys.forEach(function (key) {\n                        if (!first) out += colorize(\"comma\", \",\") + \" \";else first = false;\n                        out += colorize(\"key\", key) + colorize(\"colon\", \":\") + \" \";\n                        var value = node.A[key];\n                        switch (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) {\n                            case \"boolean\":\n                            case \"number\":\n                                out += colorize(\"value\", value.toString());\n                                break;\n                            case \"string\":\n                                var hex = function hex(ch) {\n                                    return ch.charCodeAt(0).toString(16).toUpperCase();\n                                };\n                                out += colorize(\"value\", \"\\\"\" + value.replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, \"\\\\\\\"\").replace(/\\x08/g, \"\\\\b\").replace(/\\t/g, \"\\\\t\").replace(/\\n/g, \"\\\\n\").replace(/\\f/g, \"\\\\f\").replace(/\\r/g, \"\\\\r\").replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function (ch) {\n                                    return \"\\\\x0\" + hex(ch);\n                                }).replace(/[\\x10-\\x1F\\x80-\\xFF]/g, function (ch) {\n                                    return \"\\\\x\" + hex(ch);\n                                }).replace(/[\\u0100-\\u0FFF]/g, function (ch) {\n                                    return \"\\\\u0\" + hex(ch);\n                                }).replace(/[\\u1000-\\uFFFF]/g, function (ch) {\n                                    return \"\\\\u\" + hex(ch);\n                                }) + \"\\\"\");\n                                break;\n                            case \"object\":\n                                if (value instanceof RegExp) out += colorize(\"value\", \"/\" + value.source + \"/\");else out += colorize(\"value\", JSON.stringify(value));\n                                break;\n                            default:\n                                out += colorize(\"value\", JSON.stringify(value));\n                                break;\n                        }\n                    });\n                    out += colorize(\"parenthesis\", \")\") + \" \";\n                }\n\n                /*  draw node position  */\n                out += colorize(\"position\", colorize(\"bracket\", \"[\") + colorize(\"line\", node.L.L) + colorize(\"slash\", \",\") + colorize(\"column\", node.L.C) + colorize(\"bracket\", \"]\"));\n\n                out += \"\\n\";\n            }, \"downward\");\n            return out;\n        }\n    }]);\n\n    return ASTYDump;\n}();\n\nexports.default = ASTYDump;\n\n},{}],3:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYMerge = function () {\n    function ASTYMerge() {\n        _classCallCheck(this, ASTYMerge);\n    }\n\n    _createClass(ASTYMerge, [{\n        key: \"merge\",\n\n        /*  merge attributes and childs of an AST node  */\n        value: function merge(node) {\n            var _this = this;\n\n            var takePos = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n            var attrMap = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n            if (node === null) return this;\n            if (!this.ctx.isA(node)) throw new Error(\"merge: invalid AST node argument\");\n            if (takePos) {\n                var pos = node.pos();\n                this.pos(pos.L, pos.C, pos.O);\n            }\n            node.attrs().forEach(function (attrSource) {\n                var attrTarget = typeof attrMap[attrSource] !== \"undefined\" ? attrMap[attrSource] : attrSource;\n                if (attrTarget !== null) _this.set(attrTarget, node.get(attrSource));\n            });\n            node.childs().forEach(function (child) {\n                _this.add(child);\n            });\n            return this;\n        }\n    }]);\n\n    return ASTYMerge;\n}();\n\nexports.default = ASTYMerge;\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYSerialize = function () {\n    function ASTYSerialize() {\n        _classCallCheck(this, ASTYSerialize);\n    }\n\n    _createClass(ASTYSerialize, null, [{\n        key: \"serialize\",\n\n        /*  recursively serialize AST nodes into JSON string  */\n        value: function serialize(asty, node) {\n            var serializeNode = function serializeNode(node) {\n                var clone = {\n                    T: node.T,\n                    L: { L: node.L.L, C: node.L.C, O: node.L.O }\n                };\n                var keys = Object.keys(node.A);\n                if (keys.length > 0) {\n                    clone.A = {};\n                    keys.forEach(function (key) {\n                        var value = node.A[key];\n                        switch (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) {\n                            case \"boolean\":\n                            case \"number\":\n                            case \"string\":\n                                clone.A[key] = value;\n                                break;\n                            default:\n                                /*  use the slow approach only for non-atomic attributes  */\n                                clone.A[key] = JSON.parse(JSON.stringify(value));\n                                break;\n                        }\n                    });\n                }\n                if (node.C.length > 0) clone.C = node.C.map(function (C) {\n                    return serializeNode(C);\n                });\n                return clone;\n            };\n            if (!asty.isA(node)) throw new Error(\"serialize: not an ASTy node\");\n            return JSON.stringify({ ASTy: serializeNode(node) });\n        }\n\n        /*  recursively unserialize JSON string into AST nodes  */\n\n    }, {\n        key: \"unserialize\",\n        value: function unserialize(asty, json) {\n            var unserializeNode = function unserializeNode(clone) {\n                var node = asty.create(clone.T);\n                node.pos(clone.L.L, clone.L.C, clone.L.O);\n                if (_typeof(clone.A) === \"object\") {\n                    Object.keys(clone.A).forEach(function (key) {\n                        var value = clone.A[key];\n                        switch (typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) {\n                            case \"boolean\":\n                            case \"number\":\n                            case \"string\":\n                                node.set(key, value);\n                                break;\n                            default:\n                                /*  use the slow approach only for non-atomic attributes  */\n                                node.set(key, JSON.parse(JSON.stringify(value)));\n                                break;\n                        }\n                    });\n                }\n                if (_typeof(clone.C) === \"object\" && clone.C instanceof Array) node.add(clone.C.map(function (C) {\n                    return unserializeNode(C);\n                }));\n                return node;\n            };\n            var obj = JSON.parse(json);\n            if ((typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) !== \"object\" || _typeof(obj.ASTy) !== \"object\") throw new Error(\"unserialize: not an ASTy JSON export\");\n            return unserializeNode(obj.ASTy);\n        }\n    }]);\n\n    return ASTYSerialize;\n}();\n\nexports.default = ASTYSerialize;\n\n},{}],5:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* global 1: false */\n/* global 6: false */\n/* global 0: false */\n/* global 20180317:  false */\n\nvar version = {\n    major: 1,\n    minor: 6,\n    micro: 0,\n    date: 20180317\n};\n\nexports.default = version;\n\n},{}],6:[function(_dereq_,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n**  ASTy -- Abstract Syntax Tree (AST) Data Structure\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nvar ASTYWalk = function () {\n    function ASTYWalk() {\n        _classCallCheck(this, ASTYWalk);\n    }\n\n    _createClass(ASTYWalk, [{\n        key: \"walk\",\n\n        /*  walk the AST recursively  */\n        value: function walk(cb) {\n            var when = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"downward\";\n\n            var _walk = function _walk(node, depth, parent) {\n                if (when === \"downward\" || when === \"both\") cb.call(null, node, depth, parent, \"downward\");\n                node.C.forEach(function (child) {\n                    _walk(child, depth + 1, node);\n                });\n                if (when === \"upward\" || when === \"both\") cb.call(null, node, depth, parent, \"upward\");\n            };\n            _walk(this, 0, null);\n            return this;\n        }\n    }]);\n\n    return ASTYWalk;\n}();\n\nexports.default = ASTYWalk;\n\n},{}],7:[function(_dereq_,module,exports){\n\"use strict\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /*\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  ASTy -- Abstract Syntax Tree (AST) Data Structure\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  Permission is hereby granted, free of charge, to any person obtaining\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  a copy of this software and associated documentation files (the\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  \"Software\"), to deal in the Software without restriction, including\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  without limitation the rights to use, copy, modify, merge, publish,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  distribute, sublicense, and/or sell copies of the Software, and to\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  permit persons to whom the Software is furnished to do so, subject to\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  the following conditions:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  The above copyright notice and this permission notice shall be included\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  in all copies or substantial portions of the Software.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     **  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */\n\nvar _astyBase = _dereq_(\"./asty-base.js\");\n\nvar _astyBase2 = _interopRequireDefault(_astyBase);\n\nvar _astyMerge = _dereq_(\"./asty-merge.js\");\n\nvar _astyMerge2 = _interopRequireDefault(_astyMerge);\n\nvar _astyWalk = _dereq_(\"./asty-walk.js\");\n\nvar _astyWalk2 = _interopRequireDefault(_astyWalk);\n\nvar _astyDump = _dereq_(\"./asty-dump.js\");\n\nvar _astyDump2 = _interopRequireDefault(_astyDump);\n\nvar _astySerialize = _dereq_(\"./asty-serialize.js\");\n\nvar _astySerialize2 = _interopRequireDefault(_astySerialize);\n\nvar _astyVersion = _dereq_(\"./asty-version.js\");\n\nvar _astyVersion2 = _interopRequireDefault(_astyVersion);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASTYCtx = function () {\n    function ASTYCtx() {\n        var _this = this;\n\n        _classCallCheck(this, ASTYCtx);\n\n        this.ASTYNode = function () {};\n        var mixins = [[_astyBase2.default, \"init\", \"type\", \"pos\", \"set\", \"unset\", \"get\", \"attrs\", \"nth\", \"ins\", \"add\", \"del\", \"childs\", \"child\", \"parent\", \"serialize\"], [_astyMerge2.default, \"merge\"], [_astyWalk2.default, \"walk\"], [_astyDump2.default, \"dump\"]];\n        mixins.forEach(function (mixin) {\n            var proto = mixin[0].prototype;\n            mixin.slice(1).forEach(function (method) {\n                _this.ASTYNode.prototype[method] = proto[method];\n            });\n        });\n        return this;\n    }\n\n    _createClass(ASTYCtx, [{\n        key: \"version\",\n        value: function version() {\n            return _astyVersion2.default;\n        }\n    }, {\n        key: \"extend\",\n        value: function extend(mixin) {\n            for (var method in mixin) {\n                if (mixin.hasOwnProperty(method)) this.ASTYNode.prototype[method] = mixin[method];\n            }return this;\n        }\n    }, {\n        key: \"create\",\n        value: function create(type, attrs, childs) {\n            return new this.ASTYNode().init(this, type, attrs, childs);\n        }\n    }, {\n        key: \"isA\",\n        value: function isA(node) {\n            return (typeof node === \"undefined\" ? \"undefined\" : _typeof(node)) === \"object\" && node instanceof this.ASTYNode && typeof node.ASTy === \"boolean\" && node.ASTy === true;\n        }\n    }, {\n        key: \"serialize\",\n        value: function serialize(node) {\n            return _astySerialize2.default.serialize(this, node);\n        }\n    }, {\n        key: \"unserialize\",\n        value: function unserialize(json) {\n            return _astySerialize2.default.unserialize(this, json);\n        }\n    }]);\n\n    return ASTYCtx;\n}();\n\n/*  export the traditional way for interoperability reasons\n    (as Babel would export an object with a 'default' field)  */\n\n\nmodule.exports = ASTYCtx;\n\n},{\"./asty-base.js\":1,\"./asty-dump.js\":2,\"./asty-merge.js\":3,\"./asty-serialize.js\":4,\"./asty-version.js\":5,\"./asty-walk.js\":6}]},{},[1,2,3,4,5,6,7])(7)\n});","/*\n**  Cache-LRU -- In-Memory Cache with O(1) Operations and LRU Purging Strategy\n**  Copyright (c) 2015-2016 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.CacheLRU = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),CacheLRU=function(){function e(){return _classCallCheck(this,e),this._index={},this._LRU={newer:null},this._MRU={older:null},this._LRU.newer=this._MRU,this._MRU.older=this._LRU,this._cur=0,this._max=1/0,this._dispose=function(){},this}return _createClass(e,[{key:\"limit\",value:function(e){var t=this._max;return arguments.length>0&&(this._max=e,this._purge()),t}},{key:\"dispose\",value:function(e){return this._dispose=e,this}},{key:\"length\",value:function(){return this._cur}},{key:\"keys\",value:function(){return this.each(function(e,t){this.push(t)},[])}},{key:\"values\",value:function(){return this.each(function(e){this.push(e)},[])}},{key:\"each\",value:function(e,t){arguments<2&&(t=this);for(var i=0,n=this._MRU.older;n!==this._LRU;)e.call(t,n.val,n.key,i++),n=n.older;return t}},{key:\"has\",value:function(e){return void 0!==this._index[e]}},{key:\"peek\",value:function(e){var t=this._index[e];if(void 0!==t)return t.expires<Date.now()?void this.del(t.key):t.val}},{key:\"touch\",value:function(e){var t=this._index[e];if(void 0===t)throw new Error(\"touch: no such item\");return this._promote(t),this}},{key:\"get\",value:function(e){var t=this._index[e];if(void 0!==t)return t.expires<Date.now()?void this.del(t.key):(this._promote(t),t.val)}},{key:\"set\",value:function(e,t,i){arguments.length<3&&(i=1/0),i+=Date.now();var n=this._index[e];if(void 0===n)n={older:null,newer:null,key:e,val:t,expires:i},this._index[e]=n,this._attach(n),this._cur++,this._purge();else{var r=n.val;n.val=t,this._promote(n),this._dispose.call(void 0,n.key,r,\"set\")}return this}},{key:\"del\",value:function(e){var t=this._index[e];if(void 0===t)throw new Error(\"del: no such item\");return delete this._index[e],this._detach(t),this._cur--,this._dispose.call(void 0,e,t.val,\"del\"),this}},{key:\"clear\",value:function(){for(;this._cur>0;)this.del(this._LRU.newer.key);return this}},{key:\"_purge\",value:function(){for(;this._cur>this._max;)this.del(this._LRU.newer.key)}},{key:\"_promote\",value:function(e){this._detach(e),this._attach(e)}},{key:\"_detach\",value:function(e){e.older.newer=e.newer,e.newer.older=e.older,e.older=null,e.newer=null}},{key:\"_attach\",value:function(e){e.older=this._MRU.older,e.newer=this._MRU,e.newer.older=e,e.older.newer=e}}]),e}();module.exports=CacheLRU;\n},{}]},{},[1])(1)\n});\n\n\n//# sourceMappingURL=bundle.map","/*\n**  pegjs-util -- Utility Class for PEG.js\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  Universal Module Definition (UMD) for Library  */\n(function (root, name, factory) {\n    /* global define: false */\n    /* global module: false */\n    if (typeof module === \"object\" && typeof module.exports === \"object\")\n        /*  CommonJS environment  */\n        module.exports = factory(root);\n    else if (typeof define === \"function\" && typeof define.amd !== \"undefined\")\n        /*  AMD environment  */\n        define(name, function () { return factory(root); });\n    else\n        /*  Browser environment  */\n        root[name] = factory(root);\n}(/* global global: false */\n  (typeof global !== \"undefined\" ? global :\n  /* global window: false */\n  (typeof window !== \"undefined\" ? window : this)), \"PEGUtil\", function (/* root */) {\n\n    var PEGUtil = {};\n\n    /*  helper function for generating a function to generate an AST node  */\n    PEGUtil.makeAST = function makeAST (location, options) {\n        return function () {\n            return options.util.__makeAST.call(\n                null,\n                location().start.line,\n                location().start.column,\n                location().start.offset,\n                arguments\n            );\n        };\n    };\n\n    /*  helper function for generating a function to unroll the parse stack  */\n    PEGUtil.makeUnroll = function (location, options) {\n        return function (first, list, take) {\n            if (   typeof list !== \"object\"\n                || !(list instanceof Array))\n                throw new options.util.__SyntaxError(\"unroll: invalid list argument for unrolling\",\n                    (typeof list), \"Array\", location());\n            if (typeof take !== \"undefined\") {\n                if (typeof take === \"number\")\n                    take = [ take ];\n                var result = [];\n                if (first !== null)\n                    result.push(first);\n                for (var i = 0; i < list.length; i++) {\n                    for (var j = 0; j < take.length; j++)\n                        result.push(list[i][take[j]]);\n                }\n                return result;\n            }\n            else {\n                if (first !== null)\n                    list.unshift(first);\n                return list;\n            }\n        };\n    };\n\n    /*  utility function: create a source excerpt  */\n    var excerpt = function (txt, o) {\n        var l = txt.length;\n        var b = o - 20; if (b < 0) b = 0;\n        var e = o + 20; if (e > l) e = l;\n        var hex = function (ch) {\n            return ch.charCodeAt(0).toString(16).toUpperCase();\n        };\n        var extract = function (txt, pos, len) {\n            return txt.substr(pos, len)\n                .replace(/\\\\/g,   \"\\\\\\\\\")\n                .replace(/\\x08/g, \"\\\\b\")\n                .replace(/\\t/g,   \"\\\\t\")\n                .replace(/\\n/g,   \"\\\\n\")\n                .replace(/\\f/g,   \"\\\\f\")\n                .replace(/\\r/g,   \"\\\\r\")\n                .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return \"\\\\x0\" + hex(ch); })\n                .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return \"\\\\x\"  + hex(ch); })\n                .replace(/[\\u0100-\\u0FFF]/g,         function(ch) { return \"\\\\u0\" + hex(ch); })\n                .replace(/[\\u1000-\\uFFFF]/g,         function(ch) { return \"\\\\u\"  + hex(ch); });\n        };\n        return {\n            prolog: extract(txt, b, o - b),\n            token:  extract(txt, o, 1),\n            epilog: extract(txt, o + 1, e - (o + 1))\n        };\n    };\n\n    /*  provide top-level parsing functionality  */\n    PEGUtil.parse = function (parser, txt, options) {\n        if (typeof parser !== \"object\")\n            throw new Error(\"invalid parser object (not an object)\");\n        if (typeof parser.parse !== \"function\")\n            throw new Error(\"invalid parser object (no \\\"parse\\\" function)\");\n        if (typeof txt !== \"string\")\n            throw new Error(\"invalid input text (not a string)\");\n        if (typeof options !== \"undefined\" && typeof options !== \"object\")\n            throw new Error(\"invalid options (not an object)\");\n        if (typeof options === \"undefined\")\n            options = {};\n        var result = { ast: null, error: null };\n        try {\n            var makeAST;\n            if (typeof options.makeAST === \"function\")\n                makeAST = options.makeAST;\n            else {\n                makeAST = function (location, args) {\n                    return {\n                        line:   location().start.line,\n                        column: location().start.column,\n                        offset: location().start.offset,\n                        args:   args\n                    };\n                };\n            }\n            options.util = {\n                makeUnroll:    PEGUtil.makeUnroll,\n                makeAST:       PEGUtil.makeAST,\n                __makeAST:     makeAST,\n                __SyntaxError: parser.SyntaxError\n            };\n            result.ast = parser.parse(txt, options);\n            result.error = null;\n        }\n        catch (e) {\n            result.ast = null;\n            if (e instanceof parser.SyntaxError) {\n                var definedOrElse = function (value, fallback) {\n                    return (typeof value !== \"undefined\" ? value : fallback);\n                };\n                result.error = {\n                    line:     definedOrElse(e.location.start.line, 0),\n                    column:   definedOrElse(e.location.start.column, 0),\n                    message:  e.message,\n                    found:    definedOrElse(e.found, \"\"),\n                    expected: definedOrElse(e.expected, \"\"),\n                    location: excerpt(txt, definedOrElse(e.location.start.offset, 0))\n                };\n            }\n            else {\n                result.error = {\n                    line:     0,\n                    column:   0,\n                    message:  e.message,\n                    found:    \"\",\n                    expected: \"\",\n                    location: excerpt(\"\", 0)\n                };\n            }\n        }\n        return result;\n    };\n\n    /*  render a useful error message  */\n    PEGUtil.errorMessage = function (e, noFinalNewline) {\n        var l = e.location;\n        var prefix1 = \"line \" + e.line + \" (column \" + e.column + \"): \";\n        var prefix2 = \"\";\n        for (var i = 0; i < prefix1.length + l.prolog.length; i++)\n            prefix2 += \"-\";\n        var msg = prefix1 + l.prolog + l.token + l.epilog + \"\\n\" +\n            prefix2 + \"^\" + \"\\n\" +\n            e.message + (noFinalNewline ? \"\" : \"\\n\");\n        return msg;\n    };\n\n    return PEGUtil;\n}));\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQAdapterASTY {\n    static taste (node) {\n        return (\n               typeof node === \"object\"\n            && node !== null\n            && typeof node.ASTy === \"boolean\"\n        )\n    }\n    static getParentNode (node /*, type */) {\n        return node.parent()\n    }\n    static getChildNodes (node /*, type */) {\n        return node.childs()\n    }\n    static getNodeType (node) {\n        return node.type()\n    }\n    static getNodeAttrNames (node) {\n        return node.attrs()\n    }\n    static getNodeAttrValue (node, attr) {\n        return node.get(attr)\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  See also: https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey/Parser_API  */\n\nexport default class ASTQAdapterMozAST {\n    static taste (node) {\n        return (\n               typeof node === \"object\"\n            && node !== null\n            && typeof node.type === \"string\"\n            && node.type !== \"\"\n        )\n    }\n    static getParentNode (node, type) {\n        if (type !== \"*\" && type !== \"parent\")\n            throw new Error(\"no such axis named \\\"\" + type + \"\\\" for walking to parent nodes\")\n        if (typeof node.parent !== \"undefined\")\n            return node.parent\n        else\n            throw new Error(\"Your Mozilla SpiderMonkey AST does not support parent node traversal\")\n    }\n    static getChildNodes (node, type) {\n        let childs = []\n        let checkField = (node, field) => {\n            if (   node.hasOwnProperty(field)\n                && this.taste(node[field]))\n                childs.push(node[field])\n            else if (   node.hasOwnProperty(field)\n                     && typeof node[field] === \"object\"\n                     && node[field] instanceof Array) {\n                node[field].forEach((node) => {\n                    if (this.taste(node))\n                       childs.push(node)\n                })\n            }\n        }\n        if (type === \"*\") {\n            for (let field in node)\n                checkField(node, field)\n        }\n        else {\n            if (typeof node[type] === \"undefined\")\n                throw new Error(\"no such axis named \\\"\" + type + \"\\\" for walking to child nodes\")\n            checkField(node, type)\n        }\n        return childs\n    }\n    static getNodeType (node) {\n        return node.type\n    }\n    static getNodeAttrNames (node) {\n        let names = []\n        for (let field in node)\n            if (   node.hasOwnProperty(field)\n                && typeof node[field] !== \"object\"\n                && field !== \"type\"\n                && field !== \"loc\")\n                names.push(field)\n        return names\n    }\n    static getNodeAttrValue (node, attr) {\n        if (   node.hasOwnProperty(attr)\n            && typeof node[attr] !== \"object\"\n            && attr !== \"type\"\n            && attr !== \"loc\")\n            return node[attr]\n        else\n            return undefined\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQAdapterParse5 {\n    static taste (node) {\n        /* global Node: true */\n        return (\n               typeof node === \"object\"\n            && node !== null\n            && !(   typeof Node === \"object\"\n                 && node instanceof Node    )\n            && typeof node.nodeName === \"string\"\n            && node.nodeName !== \"\"\n        )\n    }\n    static getParentNode (node /*, type */) {\n        return node.parentNode\n    }\n    static getChildNodes (node /*, type */) {\n        return (\n            (   typeof node.childNodes === \"object\"\n             && node.childNodes instanceof Array   ) ?\n            node.childNodes : []\n        )\n    }\n    static getNodeType (node) {\n        return node.nodeName\n    }\n    static getNodeAttrNames (node) {\n        let attrs = [ \"value\" ]\n        if (   typeof node.attrs === \"object\"\n            && node.attrs instanceof Array   )\n            attrs = attrs.concat(node.attrs.map((n) => n.name))\n        return attrs\n    }\n    static getNodeAttrValue (node, attr) {\n        let value\n        if (attr === \"value\")\n            value = node.value\n        else if (   typeof node.attrs === \"object\"\n                 && node.attrs instanceof Array   ) {\n            let values = node.attrs\n                .filter((n) => n.name === attr)\n                .map((n) => n.value)\n            if (values.length === 1)\n                value = values[0]\n        }\n        return value\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQAdapterXMLDOM {\n    static taste (node) {\n        /* global Node: true */\n        return (\n               typeof Node === \"object\"\n            && node !== null\n            && node instanceof Node\n            && typeof node === \"object\"\n            && typeof node.nodeType === \"number\"\n            && typeof node.nodeName === \"string\"\n        )\n    }\n    static getParentNode (node /*, type */) {\n        return node.parentNode\n    }\n    static getChildNodes (node /*, type */) {\n        return typeof node.childNodes === \"object\" && node.childNodes !== null && node.hasChildNodes() ?\n            Array.prototype.slice.call(node.childNodes, 0) : []\n    }\n    static getNodeType (node) {\n        return typeof node.nodeName === \"string\" ?\n            node.nodeName : \"unknown\"\n    }\n    static getNodeAttrNames (node) {\n        return typeof node.attributes === \"object\" && node.attributes !== null && node.hasAttributes() ?\n            Array.prototype.slice.call(node.attributes, 0).map((n) => n.nodeName) : []\n    }\n    static getNodeAttrValue (node, attr) {\n        return typeof node.attributes === \"object\" && node.attributes !== null && node.hasAttributes() ?\n            node.getAttribute(attr) : undefined\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQAdapter {\n    constructor () {\n        this._adapters = []\n        return this\n    }\n    register (adapter, force = false) {\n        this._adapters.unshift({ adapter: adapter, force: force })\n        return this\n    }\n    unregister (adapter) {\n        if (adapter === undefined)\n            this._adapters = []\n        else {\n            let adapters = []\n            for (let i = 0; i < this._adapters.length; i++)\n                if (this._adapters[i].adapter !== adapter)\n                    adapters.push(this._adapters[i])\n            this._adapters = adapters\n        }\n        return this\n    }\n    select (node) {\n        for (let i = 0; i < this._adapters.length; i++)\n            if (this._adapters[i].force || this._adapters[i].adapter.taste(node))\n                return this._adapters[i].adapter\n        return undefined\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  internal helper function: find position between siblings  */\nconst pos = (A, T) => {\n    let parent = A.getParentNode(T, \"*\")\n    if (parent === null)\n        return 1\n    let pchilds = A.getChildNodes(parent, \"*\")\n    for (let i = 0; i < pchilds.length; i++)\n        if (pchilds[i] === T)\n            return (i + 1)\n    throw new Error(\"cannot find myself\")\n}\n\n/*  internal helper function: find parent nodes  */\nconst parents = (A, T) => {\n    let parents = []\n    while ((T = A.getParentNode(T, \"*\")) !== null)\n        parents.push(T)\n    return parents\n}\n\n/*  the exported standard functions  */\nconst stdfuncs = {\n    /*  type name of node  */\n    \"type\": (A, T) => {\n        return A.getNodeType(T)\n    },\n\n    /*  attribute names of node  */\n    \"attrs\": (A, T, sep) => {\n        if (sep === undefined)\n            sep = \" \"\n        /* eslint no-console: 0 */\n        return sep + A.getNodeAttrNames(T).join(sep) + sep\n    },\n\n    /*  depth of node in tree  */\n    \"depth\": (A, T) => {\n        let depth = 1\n        let node = T\n        while ((node = A.getParentNode(node, \"*\")) !== null)\n            depth++\n        return depth\n    },\n\n    /*  return position of node between siblings  */\n    \"pos\": (A, T) => {\n        return pos(A, T)\n    },\n\n    /*  check position of node between siblings  */\n    \"nth\": (A, T, num) => {\n        num = parseInt(num, 10)\n        let parent = A.getParentNode(T, \"*\")\n        if (parent !== null) {\n            let pchilds = A.getChildNodes(parent, \"*\")\n            if (num < 0)\n                num = pchilds.length - (num + 1)\n            for (let i = 0; i < pchilds.length; i++)\n                if (pchilds[i] === T)\n                    return ((i + 1) === num)\n            return false\n        }\n        else if (num === 1)\n            return true\n        else\n            return false\n    },\n\n    /*  check position of node to be first of siblings  */\n    \"first\": (A, T) => {\n        return stdfuncs.nth(A, T, 1)\n    },\n\n    /*  check position of node to be last of siblings  */\n    \"last\": (A, T) => {\n        return stdfuncs.nth(A, T, -1)\n    },\n\n    /*  count number of keys/elements/characters/etc  */\n    \"count\": (A, T, val) => {\n        if (typeof val === \"object\" && val instanceof Array)\n            return val.length\n        else if (typeof val === \"object\")\n            return Object.keys(val).length\n        else if (typeof val === \"string\")\n            return val.length\n        else\n            return String(val).length\n    },\n\n    /*  check whether node is below another  */\n    \"below\": (A, T, other) => {\n        if (!A.taste(other))\n            throw new Error(\"invalid argument to function \\\"below\\\" (node expected)\")\n        let node = T\n        while ((node = A.getParentNode(node, \"*\")) !== null)\n            if (node === other)\n                return true\n        return false\n    },\n\n    /*  check whether node follows another  */\n    \"follows\": (A, T, other) => {\n        if (!A.taste(other))\n            throw new Error(\"invalid argument to function \\\"follows\\\" (node expected)\")\n        if (T === other)\n            return false\n        let pathOfT     = [ T     ].concat(parents(A, T    )).reverse()\n        let pathOfOther = [ other ].concat(parents(A, other)).reverse()\n        let len = Math.min(pathOfT.length, pathOfOther.length)\n        let i\n        for (i = 0; i < len; i++)\n            if (pathOfT[i] !== pathOfOther[i])\n                break\n        if (i === 0)\n            throw new Error(\"internal error: root nodes have to be same same\")\n        else if (i === len) {\n            if (pathOfOther.length < pathOfT.length)\n                return true\n            else\n                return false\n        }\n        else\n            return pos(A, pathOfT[i]) > pos(A, pathOfOther[i])\n    },\n\n    /*  check whether node is in a list of nodes  */\n    \"in\": (A, T, val) => {\n        if (!(typeof val === \"object\" && val instanceof Array))\n            throw new Error(\"invalid argument to function \\\"in\\\" (array expected)\")\n        for (let i = 0; i < val.length; i++)\n            if (val[i] === T)\n                return true\n        return false\n    },\n\n    /*  retrieve a sub-string  */\n    \"substr\": (A, T, str, pos, len) => {\n        return String(str).substr(pos, len)\n    },\n\n    /*  retrieve index of a sub-string  */\n    \"index\": (A, T, str, sub, from) => {\n        return String(str).indexOf(sub, from)\n    },\n\n    /*  remove whitespaces at begin and end of string  */\n    \"trim\": (A, T, str) => {\n        return String(str).trim()\n    },\n\n    /*  convert string to lower-case  */\n    \"lc\": (A, T, str) => {\n        return String(str).toLowerCase()\n    },\n\n    /*  convert string to upper-case  */\n    \"uc\": (A, T, str) => {\n        return String(str).toUpperCase()\n    }\n}\n\nexport default stdfuncs\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQFuncs {\n    constructor () {\n        this._funcs = {}\n        return this\n    }\n    register (name, func) {\n        this._funcs[name] = func\n    }\n    run (name, args) {\n        let func = this._funcs[name]\n        if (typeof func !== \"function\")\n            throw new Error(\"invalid function \\\"\" + name + \"\\\"\")\n        return func.apply(null, args)\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nimport util           from \"./astq-util.js\"\nimport ASTQQueryTrace from \"./astq-query-trace.js\"\n\nexport default class ASTQQueryExec extends ASTQQueryTrace {\n    constructor (adapter, params, funcs, trace) {\n        super()\n        this.adapter = adapter\n        this.params  = params\n        this.funcs   = funcs\n        this.trace   = trace\n    }\n\n    execQuery (Q, T) {\n        this.traceBegin(Q, T)\n        let output = []\n\n        /*  iterate over all query paths  */\n        Q.childs().forEach((Q) => {\n            output = output.concat(this.execPath(Q, T))\n        })\n\n        this.traceEnd(Q, T, output)\n        return output\n    }\n\n    execPath (Q, T) {\n        this.traceBegin(Q, T)\n        let nodes = [ T ]\n        let result = []\n        let resultExplicit = false\n\n        /*  iterate over all steps of a query path  */\n        Q.childs().forEach((Q) => {\n            let output = []\n            nodes.forEach((T) => {\n                output = output.concat(this.execStep(Q, T))\n            })\n            nodes = output\n            if (Q.get(\"isResult\")) {\n                resultExplicit = true\n                result = result.concat(nodes)\n            }\n        })\n\n        this.traceEnd(Q, T, nodes)\n        return (resultExplicit ? result : nodes)\n    }\n\n    execStep (Q, T) {\n        this.traceBegin(Q, T)\n\n        /*  determine (optional) axis, (mandatory) match and (optional) filter  */\n        let childs = Q.childs()\n        let axis   = null\n        let match  = null\n        let filter = null\n        let i = 0\n        if (i < childs.length && childs[i].type() === \"Axis\")\n            axis = childs[i++]\n        if (i < childs.length && childs[i].type() === \"Match\")\n            match = childs[i++]\n        if (i < childs.length && childs[i].type() === \"Filter\")\n            filter = childs[i++]\n        if (match === null)\n            throw new Error(\"no matching part in query step\")\n\n        let nodes = []\n\n        /*  helper function for matching and taking node  */\n        let id = match.get(\"id\")\n        let matchAndTake = (T) => {\n            let type = this.adapter.getNodeType(T)\n            if (id === \"*\" || id === type) {\n                let take = true\n                if (filter !== null)\n                    if (!this.execFilter(filter, T))\n                        take = false\n                if (take)\n                    nodes.push(T)\n            }\n        }\n\n        /*  determine nodes along axis which potentially might match  */\n        if (axis !== null) {\n            let op = axis.get(\"op\")\n            let t = axis.get(\"type\")\n            if (op === \"/\") {\n                /*  direct child nodes  */\n                this.adapter.getChildNodes(T, t).forEach((T) => matchAndTake(T))\n            }\n            else if (op === \"//\") {\n                /*  transitive child nodes  */\n                let walk = (T) => {\n                    matchAndTake(T)\n                    this.adapter.getChildNodes(T, t).forEach((T) => walk(T)) /* RECURSION */\n                }\n                this.adapter.getChildNodes(T, t).forEach((T) => walk(T))\n            }\n            else if (op === \"-/\") {\n                /*  direct left sibling  */\n                let parent = this.adapter.getParentNode(T, \"*\")\n                if (parent !== null) {\n                    let pchilds = this.adapter.getChildNodes(parent, t)\n                    let leftSibling = null\n                    for (let i = 0; i < pchilds.length; i++) {\n                        if (pchilds[i] === T)\n                            break\n                        leftSibling = pchilds[i]\n                    }\n                    if (leftSibling !== null)\n                        matchAndTake(leftSibling)\n                }\n            }\n            else if (op === \"-//\") {\n                /*  transitive left siblings  */\n                let parent = this.adapter.getParentNode(T, \"*\")\n                if (parent !== null) {\n                    let pchilds = this.adapter.getChildNodes(parent, t)\n                    let i = 0\n                    for (; i < pchilds.length; i++)\n                        if (pchilds[i] === T)\n                            break\n                    for (i--; i >= 0; i--)\n                        matchAndTake(pchilds[i])\n                }\n            }\n            else if (op === \"+/\") {\n                /*  direct right sibling  */\n                let parent = this.adapter.getParentNode(T, \"*\")\n                if (parent !== null) {\n                    let pchilds = this.adapter.getChildNodes(parent, t)\n                    let i\n                    for (i = 0; i < pchilds.length; i++)\n                        if (pchilds[i] === T)\n                            break\n                    if (i < pchilds.length)\n                        matchAndTake(pchilds[++i])\n                }\n            }\n            else if (op === \"+//\") {\n                /*  transitive right siblings  */\n                let parent = this.adapter.getParentNode(T, \"*\")\n                if (parent !== null) {\n                    let pchilds = this.adapter.getChildNodes(parent, t)\n                    let i\n                    for (i = 0; i < pchilds.length; i++)\n                        if (pchilds[i] === T)\n                            break\n                    if (i < pchilds.length)\n                        for (i++; i < pchilds.length; i++)\n                            matchAndTake(pchilds[i])\n                }\n            }\n            else if (op === \"../\") {\n                /*  direct parent  */\n                let parent = this.adapter.getParentNode(T, t)\n                if (parent !== null)\n                    matchAndTake(parent)\n            }\n            else if (op === \"..//\") {\n                /*  transitive parents  */\n                let node = T\n                for (;;) {\n                    let parent = this.adapter.getParentNode(node, t)\n                    if (parent === null)\n                        break\n                    matchAndTake(parent)\n                    node = parent\n                }\n            }\n            else if (op === \"<//\") {\n                /*  transitive preceding nodes  */\n                let ctx = { sentinel: T, take: true }\n                for (;;) {\n                    let parent = this.adapter.getParentNode(T, \"*\")\n                    if (parent === null)\n                        break\n                    T = parent\n                }\n                let walk = (T) => {\n                    if (T === ctx.sentinel)\n                        ctx.take = false\n                    if (ctx.take)\n                        matchAndTake(T)\n                    if (ctx.take)\n                        this.adapter.getChildNodes(T, t).forEach((T) => walk(T)) /* RECURSION */\n                }\n                if (T !== ctx.sentinel) {\n                    matchAndTake(T)\n                    this.adapter.getChildNodes(T, t).forEach((T) => walk(T))\n                }\n                nodes = nodes.reverse()\n            }\n            else if (op === \">//\") {\n                /*  transitive following nodes  */\n                let ctx = { sentinel: T, take: false }\n                for (;;) {\n                    let parent = this.adapter.getParentNode(T, \"*\")\n                    if (parent === null)\n                        break\n                    T = parent\n                }\n                let walk = (T) => {\n                    if (ctx.take)\n                        matchAndTake(T)\n                    if (T === ctx.sentinel)\n                        ctx.take = true\n                    this.adapter.getChildNodes(T, t).forEach((T) => walk(T)) /* RECURSION */\n                }\n                this.adapter.getChildNodes(T, t).forEach((T) => walk(T))\n            }\n        }\n        else\n            /*  current node  */\n            matchAndTake(T)\n\n        this.traceEnd(Q, T, nodes)\n        return nodes\n    }\n\n    execFilter (Q, T) {\n        this.traceBegin(Q, T)\n        let expr = Q.childs()[0]\n        let result = this.execExpr(expr, T)\n        result = util.truthy(result)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExpr (Q, T) {\n        switch (Q.type()) {\n            case \"ConditionalBinary\":  return this.execExprConditionalBinary(Q, T)\n            case \"ConditionalTernary\": return this.execExprConditionalTernary(Q, T)\n            case \"Logical\":            return this.execExprLogical(Q, T)\n            case \"Bitwise\":            return this.execExprBitwise(Q, T)\n            case \"Relational\":         return this.execExprRelational(Q, T)\n            case \"Arithmetical\":       return this.execExprArithmetical(Q, T)\n            case \"Unary\":              return this.execExprUnary(Q, T)\n            case \"FuncCall\":           return this.execExprFuncCall(Q, T)\n            case \"Attribute\":          return this.execExprAttribute(Q, T)\n            case \"Param\":              return this.execExprParam(Q, T)\n            case \"LiteralString\":      return this.execExprLiteralString(Q, T)\n            case \"LiteralRegExp\":      return this.execExprLiteralRegExp(Q, T)\n            case \"LiteralNumber\":      return this.execExprLiteralNumber(Q, T)\n            case \"LiteralValue\":       return this.execExprLiteralValue(Q, T)\n            case \"Path\":               return this.execExprPath(Q, T)\n        }\n    }\n\n    execExprConditionalBinary (Q, T) {\n        this.traceBegin(Q, T)\n        let result = this.execExpr(Q.childs()[0], T)\n        if (!util.truthy(result))\n            result = this.execExpr(Q.childs()[1], T)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprConditionalTernary (Q, T) {\n        this.traceBegin(Q, T)\n        let result = this.execExpr(Q.childs()[0], T)\n        if (util.truthy(result))\n            result = this.execExpr(Q.childs()[1], T)\n        else\n            result = this.execExpr(Q.childs()[2], T)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLogical (Q, T) {\n        this.traceBegin(Q, T)\n        let result = false\n        switch (Q.get(\"op\")) {\n            case \"&&\":\n                result = util.truthy(this.execExpr(Q.childs()[0], T))\n                if (result)\n                    result = result && util.truthy(this.execExpr(Q.childs()[1], T))\n                break\n            case \"||\":\n                result = util.truthy(this.execExpr(Q.childs()[0], T))\n                if (!result)\n                    result = result || util.truthy(this.execExpr(Q.childs()[1], T))\n                break\n        }\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprBitwise (Q, T) {\n        this.traceBegin(Q, T)\n        let v1 = util.coerce(this.execExpr(Q.childs()[0], T), \"number\")\n        let v2 = util.coerce(this.execExpr(Q.childs()[1], T), \"number\")\n        let result\n        switch (Q.get(\"op\")) {\n            case \"&\":  result = v1 &  v2; break\n            case \"|\":  result = v1 |  v2; break\n            case \"<<\": result = v1 << v2; break\n            case \">>\": result = v1 >> v2; break\n        }\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprRelational (Q, T) {\n        this.traceBegin(Q, T)\n        let v1 = this.execExpr(Q.childs()[0], T)\n        let v2 = this.execExpr(Q.childs()[1], T)\n        let result\n        switch (Q.get(\"op\")) {\n            case \"==\": result = v1 === v2; break\n            case \"!=\": result = v1 !== v2; break\n            case \"<=\": result = util.coerce(v1, \"number\") <= util.coerce(v2, \"number\"); break\n            case \">=\": result = util.coerce(v1, \"number\") >= util.coerce(v2, \"number\"); break\n            case \"<\":  result = util.coerce(v1, \"number\") <  util.coerce(v2, \"number\"); break\n            case \">\":  result = util.coerce(v1, \"number\") >  util.coerce(v2, \"number\"); break\n            case \"=~\": result = util.coerce(v1, \"string\").match(util.coerce(v2, \"regexp\")) !== null; break\n            case \"!~\": result = util.coerce(v1, \"string\").match(util.coerce(v2, \"regexp\")) === null; break\n        }\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprArithmetical (Q, T) {\n        this.traceBegin(Q, T)\n        let v1 = this.execExpr(Q.childs()[0], T)\n        let v2 = this.execExpr(Q.childs()[1], T)\n        let result\n        switch (Q.get(\"op\")) {\n            case \"+\":\n                if (typeof v1 === \"string\")\n                    result = v1 + util.coerce(v2, \"string\")\n                else\n                    result = util.coerce(v1, \"number\") + util.coerce(v2, \"number\")\n                break\n            case \"-\":  result = util.coerce(v1, \"number\") + util.coerce(v2, \"number\"); break\n            case \"*\":  result = util.coerce(v1, \"number\") * util.coerce(v2, \"number\"); break\n            case \"/\":  result = util.coerce(v1, \"number\") / util.coerce(v2, \"number\"); break\n            case \"%\":  result = util.coerce(v1, \"number\") % util.coerce(v2, \"number\"); break\n            case \"**\": result = Math.pow(util.coerce(v1, \"number\"), util.coerce(v2, \"number\")); break\n        }\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprUnary (Q, T) {\n        this.traceBegin(Q, T)\n        let v = this.execExpr(Q.childs()[0], T)\n        let result\n        /* jscs: disable */\n        switch (Q.get(\"op\")) {\n            case \"!\": result = !util.coerce(v, \"boolean\"); break\n            case \"~\": result = ~util.coerce(v, \"number\");  break\n        }\n        /* jscs: enable */\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprFuncCall (Q, T) {\n        this.traceBegin(Q, T)\n        let id = Q.get(\"id\")\n        let args = [ this.adapter, T ]\n        Q.childs().forEach((Q) => {\n            args.push(this.execExpr(Q, T))\n        })\n        let result = this.funcs.run(id, args)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprAttribute (Q, T) {\n        this.traceBegin(Q, T)\n        let id = Q.get(\"id\")\n        let result = this.adapter.getNodeAttrValue(T, id)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprParam (Q, T) {\n        this.traceBegin(Q, T)\n        let id = Q.get(\"id\")\n        if (typeof this.params[id] === \"undefined\")\n            throw new Error(\"invalid parameter \\\"\" + id + \"\\\"\")\n        let result = this.params[id]\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLiteralString (Q, T) {\n        this.traceBegin(Q, T)\n        let result = Q.get(\"value\")\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLiteralRegExp (Q, T) {\n        this.traceBegin(Q, T)\n        let result = Q.get(\"value\")\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLiteralNumber (Q, T) {\n        this.traceBegin(Q, T)\n        let result = Q.get(\"value\")\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprLiteralValue (Q, T) {\n        this.traceBegin(Q, T)\n        let result = Q.get(\"value\")\n        this.traceEnd(Q, T, result)\n        return result\n    }\n\n    execExprPath (Q, T) {\n        this.traceBegin(Q, T)\n        let result = this.execPath(Q, T)\n        this.traceEnd(Q, T, result)\n        return result\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* eslint no-console: 0 */\n\nimport util from \"./astq-util.js\"\n\nexport default class ASTQQueryTrace {\n    /*  determine output prefix based on tree depth  */\n    prefixOf (Q, T) {\n        let depth = 0\n        let node = Q\n        while ((node = node.parent()) !== null)\n            depth++\n        let prefix1 = util.pad(\"\", 4 * depth)\n        depth = 0\n        node = T\n        while ((node = this.adapter.getParentNode(node, \"*\")) !== null)\n            depth++\n        let prefix2 = util.pad(\"\", 4 * depth)\n        return { prefix1, prefix2 }\n    }\n\n    /*  begin tracing step  */\n    traceBegin (Q, T) {\n        if (!this.trace)\n            return\n        let { prefix1, prefix2 } = this.prefixOf(Q, T)\n        console.log(\"ASTQ: execute: | \" +\n            util.pad(prefix1 + Q.type() + \" (\", -60) + \" | \" +\n            prefix2 + this.adapter.getNodeType(T))\n    }\n\n    /*  end tracing step  */\n    traceEnd (Q, T, val) {\n        if (!this.trace)\n            return\n        let { prefix1, prefix2 } = this.prefixOf(Q, T)\n        let result\n        if (val === undefined)\n            result = \"undefined\"\n        else if (typeof val === \"object\" && val instanceof Array) {\n            result = \"[\"\n            val.forEach((node) => {\n                result += \"node(\" + this.adapter.getNodeType(node) + \"),\"\n            })\n            result = result.replace(/,$/, \"\") + \"]\"\n        }\n        else\n            result = typeof val + \"(\" + val + \")\"\n        if (result.length > 60)\n            result = result.substr(0, 60) + \"...\"\n        console.log(\"ASTQ: execute: | \" +\n            util.pad(prefix1 + \"): \" + result, -60) + \" | \" +\n            prefix2 + this.adapter.getNodeType(T))\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* global __dirname: true */\n/* global console: true */\n/* eslint no-console: 0 */\n\n/*  load external dependencies  */\nconst ASTY     = require(\"asty\")\nconst PEG      = require(\"pegjs-otf\")\nconst PEGUtil  = require(\"pegjs-util\")\n\n/*  get query parser (by loading and on-the-fly compiling PEG.js grammar)  */\nconst ASTQQueryParse = PEG.generateFromFile(\n    __dirname + \"/astq-query-parse.pegjs\",\n    { optimize: \"speed\", cache: true }\n)\n\n/*  get query executor  */\nimport ASTQQueryExec from \"./astq-query-exec.js\"\n\nexport default class ASTQQuery {\n    /*  create a new instance of the query instance  */\n    constructor (selector) {\n        this.asty = new ASTY()\n        this.ast = null\n        if (selector)\n            this.compile(selector)\n    }\n\n    /*  compile query selector into AST  */\n    compile (selector, trace) {\n        if (trace)\n            console.log(\"ASTQ: compile: +---------------------------------------\" +\n                \"----------------------------------------------------------------\\n\" +\n                \"ASTQ: compile: | \" + selector)\n        let result = PEGUtil.parse(ASTQQueryParse, selector, {\n            startRule: \"query\",\n            makeAST: (line, column, offset, args) => {\n                return this.asty.create.apply(this.asty, args).pos(line, column, offset)\n            }\n        })\n        if (result.error !== null)\n            throw new Error(\"ASTQ: compile: query parsing failed:\\n\" +\n                PEGUtil.errorMessage(result.error, true).replace(/^/mg, \"ERROR: \"))\n        this.ast = result.ast\n        if (trace)\n            console.log(\"ASTQ: compile: +---------------------------------------\" +\n                \"----------------------------------------------------------------\\n\" +\n                this.dump().replace(/\\n$/, \"\").replace(/^/mg, \"ASTQ: compile: | \"))\n        return this\n    }\n\n    /*  dump the query AST  */\n    dump () {\n        return this.ast.dump()\n    }\n\n    /*  execute the query AST onto node  */\n    execute (node, adapter, params, funcs, trace) {\n        if (trace)\n            console.log(\"ASTQ: execute: +---------------------------------------\" +\n                \"-----------------------+----------------------------------------\")\n        let qe = new ASTQQueryExec(adapter, params, funcs, trace)\n        return qe.execQuery(this.ast, node)\n    }\n}\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nexport default class ASTQUtil {\n    /*  pad a string with spaces to the left/right  */\n    static pad (str, num) {\n        let n = num < 0 ? -num : num\n        if (str.length > n)\n            str = str.substr(0, n)\n        else {\n            let pad = Array((n + 1) - str.length).join(\" \")\n            str = num < 0 ? (str + pad) : (pad + str)\n        }\n        return str\n    }\n\n    /*  check whether value is \"true\" (or can be considered to be true)  */\n    static truthy (value) {\n        let result\n        switch (typeof value) {\n            case \"boolean\":\n                result = value\n                break\n            case \"number\":\n                result = (value !== 0 && !isNaN(value))\n                break\n            case \"string\":\n                result = (value !== \"\")\n                break\n            case \"object\":\n                result = false\n                if (value !== null) {\n                    result = true\n                    if (value instanceof Array)\n                        result = value.length > 0\n                }\n                break\n            default:\n                result = false\n        }\n        return result\n    }\n\n    /*  coerce value to particular type  */\n    static coerce (value, type) {\n        if (typeof value !== type) {\n            try {\n                switch (type) {\n                    case \"boolean\":\n                        if (typeof value !== \"boolean\")\n                            value = Boolean(value)\n                        break\n                    case \"number\":\n                        if (typeof value !== \"number\")\n                            value = Number(value)\n                        break\n                    case \"string\":\n                        if (typeof value !== \"string\")\n                            value = String(value)\n                        break\n                    case \"regexp\":\n                        if (!(typeof value === \"object\" && value instanceof RegExp))\n                            value = new RegExp(value)\n                        break\n                }\n            }\n            catch (e) {\n                throw new Error(\"cannot coerce value into type \" + type)\n            }\n        }\n        return value\n    }\n}\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/* global 2: false */\n/* global 0: false */\n/* global 8: false */\n/* global 20180317:  false */\n\nlet version = {\n    major: 2,\n    minor: 0,\n    micro: 8,\n    date:  20180317\n}\n\nexport default version\n\n","/*\n**  ASTq -- Abstract Syntax Tree (AST) Query Engine\n**  Copyright (c) 2014-2018 Ralf S. Engelschall <rse@engelschall.com>\n**\n**  Permission is hereby granted, free of charge, to any person obtaining\n**  a copy of this software and associated documentation files (the\n**  \"Software\"), to deal in the Software without restriction, including\n**  without limitation the rights to use, copy, modify, merge, publish,\n**  distribute, sublicense, and/or sell copies of the Software, and to\n**  permit persons to whom the Software is furnished to do so, subject to\n**  the following conditions:\n**\n**  The above copyright notice and this permission notice shall be included\n**  in all copies or substantial portions of the Software.\n**\n**  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n**  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n**  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n**  IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n**  CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n**  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n**  SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n/*  load external depdendencies  */\nlet CacheLRU = require(\"cache-lru\")\n\n/*  load internal dependencies  */\nimport ASTQAdapter       from \"./astq-adapter.js\"\nimport ASTQAdapterXMLDOM from \"./astq-adapter-xmldom.js\"\nimport ASTQAdapterPARSE5 from \"./astq-adapter-parse5.js\"\nimport ASTQAdapterMOZAST from \"./astq-adapter-mozast.js\"\nimport ASTQAdapterASTY   from \"./astq-adapter-asty.js\"\nimport ASTQFuncs         from \"./astq-funcs.js\"\nimport ASTQFuncsSTD      from \"./astq-funcs-std.js\"\nimport ASTQQuery         from \"./astq-query.js\"\nimport ASTQVersion       from \"./astq-version.js\"\n\n/*  define the API class  */\nclass ASTQ {\n    /*  create a new ASTq instance  */\n    constructor () {\n        /*  create adapter registry and pre-register standard adapters  */\n        this._adapter = new ASTQAdapter()\n            .register(ASTQAdapterXMLDOM, false)\n            .register(ASTQAdapterPARSE5, false)\n            .register(ASTQAdapterMOZAST, false)\n            .register(ASTQAdapterASTY,   false)\n\n        /*  create function registry and pre-register standard functions  */\n        this._funcs = new ASTQFuncs()\n        for (let name in ASTQFuncsSTD)\n            this.func(name, ASTQFuncsSTD[name])\n\n        /*  create LRU cache  */\n        this._cache = new CacheLRU()\n    }\n\n    /*  return the version information  */\n    version () {\n        return ASTQVersion\n    }\n\n    /*  switch to a single custom adapter  */\n    adapter (adapter, force = false) {\n        if (arguments.length < 1 || arguments.length > 2)\n            throw new Error(\"ASTQ#adapter: invalid number of arguments\")\n        this._adapter.unregister()\n        if (!(typeof adapter === \"object\" && adapter instanceof Array))\n            adapter = [ adapter ]\n        if (adapter.length > 1 && force)\n            throw new Error(\"ASTQ#adapter: you can force just a single adapter to not taste the AST node\")\n        adapter.forEach((adapter) => {\n            if (typeof adapter === \"string\") {\n                if (adapter === \"mozast\")      adapter = ASTQAdapterMOZAST\n                else if (adapter === \"xmldom\") adapter = ASTQAdapterXMLDOM\n                else if (adapter === \"parse5\") adapter = ASTQAdapterPARSE5\n                else if (adapter === \"asty\")   adapter = ASTQAdapterASTY\n                else\n                    throw new Error(\"ASTQ#adapter: unknown built-in adapter\")\n            }\n            this._adapter.register(adapter, force)\n        })\n        return this\n    }\n\n    /*  register an additional function  */\n    func (name, func) {\n        if (arguments.length !== 2)\n            throw new Error(\"ASTQ#func: invalid number of arguments\")\n        this._funcs.register(name, func)\n        return this\n    }\n\n    /*  configure the LRU cache limit  */\n    cache (entries) {\n        if (arguments.length !== 1)\n            throw new Error(\"ASTQ#cache: invalid number of arguments\")\n        this._cache.limit(entries)\n        return this\n    }\n\n    /*  individual step 1: compile selector DSL into a query AST  */\n    compile (selector, trace) {\n        if (arguments.length < 1)\n            throw new Error(\"ASTQ#compile: too less arguments\")\n        if (arguments.length > 2)\n            throw new Error(\"ASTQ#compile: too many arguments\")\n        if (trace === undefined)\n            trace = false\n        let query = this._cache.get(selector)\n        if (query === undefined) {\n            query = new ASTQQuery()\n            query.compile(selector, trace)\n            this._cache.set(selector, query)\n        }\n        return query\n    }\n\n    /*  individual step 2: execute query AST onto node  */\n    execute (node, query, params, trace) {\n        if (arguments.length < 2)\n            throw new Error(\"ASTQ#execute: too less arguments\")\n        if (arguments.length > 4)\n            throw new Error(\"ASTQ#execute: too many arguments\")\n        if (params === undefined)\n            params = {}\n        if (trace === undefined)\n            trace = false\n        let adapter = this._adapter.select(node)\n        if (adapter === undefined)\n            throw new Error(\"ASTQ#execute: no suitable adapter found for node\")\n        return query.execute(node, adapter, params, this._funcs, trace)\n    }\n\n    /*  all-in-one step: execute selector DSL onto node  */\n    query (node, selector, params, trace) {\n        if (arguments.length < 2)\n            throw new Error(\"ASTQ#query: too less arguments\")\n        if (arguments.length > 4)\n            throw new Error(\"ASTQ#query: too many arguments\")\n        if (params === undefined)\n            params = {}\n        if (trace === undefined)\n            trace = false\n        return this.execute(node, this.compile(selector, trace), params, trace)\n    }\n}\n\n/*  export the traditional way for interoperability reasons\n    (as Babel would export an object with a 'default' field)  */\nmodule.exports = ASTQ\n\n"]}